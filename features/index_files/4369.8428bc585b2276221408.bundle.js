"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[4369],{25531:function(e,t,n){n.d(t,{V:function(){return m}});n(12419);var a=n(6610),i=n(5991),r=n(10379),o=n(46070),s=n(77608),u=n(91264),l=n(5535),d=n(86805);function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var m=function(e){(0,r.Z)(n,e);var t=c(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,u.oy.Admission.Poll2Constants.Joinable)}return(0,i.Z)(n,[{key:"externalUrn",value:function(){var e,t;return null!==(e=this.data())&&void 0!==e&&e.ExternalId?d.Urn.parse(null===(t=this.data())||void 0===t?void 0:t.ExternalId):null}},{key:"externalEntityInfo",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(null===(e=this.externalUrn())||void 0===e?void 0:e.nameSpace){case"page":return{typeName:"Space",managerTypeName:"Space admins",requesterTypeName:t?"members":"member"};case"team":return{typeName:"team",managerTypeName:"team captain",requesterTypeName:t?"members":"member"};case"tournament":default:return{typeName:"tournament",managerTypeName:"organizer",requesterTypeName:t?"teams":"team"}}}}]),n}(l.g)},78013:function(e,t,n){n.d(t,{o:function(){return h},F:function(){return f}});n(12419);var a=n(6610),i=n(5991),r=n(10379),o=n(46070),s=n(77608),u=(n(21249),n(2707),n(47042),n(40561),n(73804)),l=n(35856),d=n(87051),c=n(66012);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var h=function(e){(0,r.Z)(n,e);var t=m(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e,"league_season_settings"))._prizesModel={CustomPrizeString:"",Prizes:[]},i._prizesProxy=new l.n(i._scope,(function(){return i.loaded()}),"league_placement_prize",(function(){return i.data().RangePlacementPrizeIds})),i._adapter.addDataCallback((function(e){i._prizesModel.CustomPrizeString=e.CustomPrizeString,i._prizesProxy.update()})),i._prizesProxy.addDataCallback((function(e){i._prizesModel.Prizes=e.map((function(e){return{LowestPlacement:e.LowestPlacement,HighestPlacement:e.HighestPlacement,TokensEachPlacement:e.TokensEachPlacement}})),i._prizesModel.Prizes.sort((function(e,t){return e.LowestPlacement-t.LowestPlacement})),i._topFivePlacements=i._prizesModel.Prizes.slice(0,5)})),i}return(0,i.Z)(n,[{key:"addHost",value:function(e){if(!this._hostInList(e))return this.data().PageHostIds.push(e),this._savePageHostIds()}},{key:"removeHost",value:function(e){if(this._hostInList(e))return this.data().PageHostIds.splice(this.data().PageHostIds.indexOf(e),1),this._savePageHostIds()}},{key:"_savePageHostIds",value:function(){return u.K.savePageHostIdsSettings(this.data().Id,this.data().PageHostIds)}},{key:"_hostInList",value:function(e){return this.data().PageHostIds.indexOf(e)>=0}},{key:"prizePool",value:function(){this._prizesModel.Prizes.length||this._prizesProxy.load();var e=0;return this._prizesModel.Prizes.map((function(t){e+=(t.HighestPlacement-t.LowestPlacement+1)*t.TokensEachPlacement})),e}},{key:"hasPrizes",value:function(){return this.prizePool()>0}},{key:"loadPrizes",value:function(){return this._prizesProxy.load()}},{key:"prizeSettings",value:function(){return this._prizesModel.Prizes.length||this._prizesProxy.load(),this._prizesModel}},{key:"topFivePrizeResults",value:function(){return this._topFivePlacements.length||this._prizesProxy.load(),this._topFivePlacements}},{key:"specificGameSettings",value:function(){var e;return d.aW.deserializeSpecificGameSettings(null===(e=this.data())||void 0===e?void 0:e.GameSettings)}},{key:"manualReportingSettings",value:function(){var e;return d.aW.deserializeManualReportingSettings(null===(e=this.data())||void 0===e?void 0:e.GameSettings)}},{key:"gameSettingsVersion",value:function(){var e,t;return null===(e=this.data())||void 0===e||null===(t=e.GameSettings)||void 0===t?void 0:t.CM_GameSettingsSchemaVersion}}]),n}(n(5535).g);function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,c.$$)(e,"league_season_settings",h,t,n)}},68661:function(e,t,n){n.d(t,{L:function(){return g}});var a=n(6610),i=n(5991),r=(n(69826),n(92222),n(71578)),o=n(91264),s=n(86805),u=n(40175),l=n(87051),d=n(52476),c=n(17864),m=n(10898),h=n(73804),f=n(78013),v=n(86784),y=n(73713),g=function(){function e(t){var n=this;(0,a.Z)(this,e),this._scope=t,this._seasonSettings=new f.o(t),this._runningSeasonSettings=new f.o(this._scope),this._nextSeasonSettings=new f.o(this._scope),this._gameInfo=new y.k(t),this._adapter=new u.Q(t).addDataCallback((function(e){n._seasonSettings.initById(e.SettingsId),e.RunningSeasonId&&n._runningSeasonAdapter.initByUrn(new s.Urn("league_season",e.RunningSeasonId)),e.NextSeasonId&&n._nextSeasonAdapter.initByUrn(new s.Urn("league_season",e.NextSeasonId)),n._gameInfo.initByGameBrand(l.aW.gameBrand(e.GameRealm))})),this._runningSeasonAdapter=new u.Q(t).addDataCallback((function(e){n._runningSeasonSettings.initById(e.SettingsId)})),this._nextSeasonAdapter=new u.Q(t).addDataCallback((function(e){n._nextSeasonSettings.initById(e.SettingsId)}))}return(0,i.Z)(e,[{key:"initById",value:function(e){return this._adapter.initByUrn(new s.Urn("league",e)),this}},{key:"adapter",value:function(){return this._adapter}},{key:"loaded",value:function(){return this.adapter().isLoaded()}},{key:"data",value:function(){return this.adapter().data()}},{key:"id",value:function(){return this.adapter().id()}},{key:"seasonSettings",value:function(){return this._seasonSettings}},{key:"settingsLoaded",value:function(){return this._seasonSettings.loaded()}},{key:"settingsData",value:function(){return this._seasonSettings.data()}},{key:"prizeSettings",value:function(){return this._seasonSettings.prizeSettings()}},{key:"runningSeasonSettingsData",value:function(){return this._runningSeasonSettings.data()}},{key:"runningSeasonSettingsLoaded",value:function(){return this._runningSeasonSettings.loaded()}},{key:"currentSeasonId",value:function(){if(this.loaded())return[this.data().RunningSeasonId,this.data().NextSeasonId,(0,r.LB)(this.data().SeasonIds)].find((function(e){return!(0,r.tQ)(e)}))}},{key:"hasMultipleSeasons",value:function(){return this.loaded()&&this.data().SeasonIds.length>1}},{key:"gameBrand",value:function(){return this.loaded()?l.aW.gameBrand(this.data().GameRealm):o.CY.GameBrand.Unknown}},{key:"gameAndRegion",value:function(){if(!this.loaded())return null;var e=l.aW.gameRealmShortTitle(this.data().GameRealm);return"".concat(this._gameInfo.shortTitle(),", ").concat(e)}},{key:"name",value:function(){return this.loaded()?this.data().Name:null}},{key:"logoUrl",value:function(e,t){return this._imageUrl(e,t,this.loaded()?this.data().LogoImageId:void 0,"league_logo",h.K.defaultLogoUrl())}},{key:"logoSrcSet",value:function(){var e;return d.Cu.getImageSrcSet("league_logo",null===(e=this.data())||void 0===e?void 0:e.LogoImageId)}},{key:"hasDefaultLogo",value:function(){return this.logoUrl(64,64)===h.K.defaultLogoUrl()}},{key:"bannerUrl",value:function(e,t){return this._imageUrl(e,t,this.loaded()?this.data().BannerImageId:void 0,"league_banner",this.mapUrl())}},{key:"bannerSrcSet",value:function(){var e;return d.Cu.getImageSrcSet("league_banner",null===(e=this.data())||void 0===e?void 0:e.BannerImageId)}},{key:"mapUrl",value:function(){return this.loaded()&&this._seasonSettings.loaded()?l.aW.mapImageUrl(l.aW.gameBrand(this.data().GameRealm),this._seasonSettings.specificGameSettings()):void 0}},{key:"tournamentLogoUrl",value:function(e,t){return this._imageUrl(e,t,this.loaded()?this.data().TournamentLogoId:void 0,"tournament_logo",h.K.defaultLogoUrl())}},{key:"tournamentLogoSrcSet",value:function(){var e;return d.Cu.getImageSrcSet("tournament_logo",null===(e=this.data())||void 0===e?void 0:e.TournamentLogoId)}},{key:"tournamentBannerUrl",value:function(e,t){return this._imageUrl(e,t,this.loaded()?this.data().TournamentBannerId:void 0,"tournament_banner",this.mapUrl())}},{key:"tournamentBannerSrcSet",value:function(){var e;return d.Cu.getImageSrcSet("tournament_banner",null===(e=this.data())||void 0===e?void 0:e.TournamentBannerId)}},{key:"challengeBannerUrl",value:function(e,t){return this._imageUrl(e,t,this.loaded()?this.data().ChallengeBannerId:void 0,"challenge_banner",this.tournamentBannerUrl(e,t))}},{key:"challengeBannerSrcSet",value:function(){var e;return d.Cu.getImageSrcSet("challenge_banner",null===(e=this.data())||void 0===e?void 0:e.ChallengeBannerId)}},{key:"tournamentThumbnailUrl",value:function(e,t){return this._imageUrl(e,t,this.loaded()?this.data().TournamentThumbnailId:void 0,"tournament_thumbnail","")}},{key:"tournamentThumbnailSrcSet",value:function(){var e;return d.Cu.getImageSrcSet("tournament_thumbnail",null===(e=this.data())||void 0===e?void 0:e.TournamentThumbnailId)}},{key:"thumbnailUrl",value:function(e,t){return this._imageUrl(e,t,this.loaded()?this.data().ThumbnailImageId:void 0,"league_thumbnail","")}},{key:"thumbnailSrcSet",value:function(){var e;return d.Cu.getImageSrcSet("league_thumbnail",null===(e=this.data())||void 0===e?void 0:e.ThumbnailImageId)}},{key:"_imageUrl",value:function(e,t,n,a,i){return d.Cu.imageUrl(a,n,e,t)||i}},{key:"mayEditInfo",value:function(){return v.S.isAuthenticated()&&m.cmOwnUser.may(o.Sf.Permission.League_EditAnyLeague)}},{key:"nextSeasonId",value:function(){return this.loaded()?this.data().NextSeasonId:null}},{key:"loadedSeasons",value:function(){return this.loaded()&&(!this._runningSeasonAdapter.initialized()||this.runningSeasonLoaded())&&(!this._nextSeasonAdapter.initialized()||this.nextSeasonLoaded())}},{key:"runningSeasonLoaded",value:function(){return this._runningSeasonAdapter.isLoaded()}},{key:"runningSeasonData",value:function(){return this._runningSeasonAdapter.data()}},{key:"runningSeasonLobbyId",value:function(){return this._seasonLobbyId(this._runningSeasonAdapter)}},{key:"ownRunningLobbyAttendance",value:function(){return c.W9.attendanceByLobby(this.runningSeasonLobbyId())}},{key:"nextSeasonLoaded",value:function(){return this._nextSeasonAdapter.isLoaded()}},{key:"nextSeasonData",value:function(){return this._nextSeasonAdapter.data()}},{key:"nextSeasonLobbyId",value:function(){return this._seasonLobbyId(this._nextSeasonAdapter)}},{key:"ownNextLobbyAttendance",value:function(){return c.W9.attendanceByLobby(this.nextSeasonLobbyId())}},{key:"hasOwnNextLobbyMember",value:function(){return(0,r.Of)(this.ownNextLobbyAttendance())}},{key:"_seasonLobbyId",value:function(e){return e.isLoaded()?e.data().LobbyId:void 0}},{key:"joinButtonText",value:function(){var e=this.runningSeasonLoaded()?this.runningSeasonData().SeasonNumber:null;return this.nextSeasonId()&&this.nextSeasonLoaded()&&(e=this.nextSeasonData().SeasonNumber),"Join Season ".concat(e)}},{key:"canJoin",value:function(){return this.loadedSeasons()&&!(0,r.tQ)(this.nextSeasonLobbyId())&&!this.hasOwnNextLobbyMember()}}]),e}()},38627:function(e,t,n){n.d(t,{y:function(){return w},Q:function(){return D}});n(12419);var a=n(6610),i=n(5991),r=n(10379),o=n(46070),s=n(77608),u=(n(66992),n(51532),n(41539),n(78783),n(33948),n(34553),n(69826),n(21249),n(92222),n(91038),n(54747),n(57327),n(2707),n(71578)),l=n(91264),d=n(84694),c=n(86805),m=n(79075),h=n(65647),f=n(61555),v=n(35856),y=n(40175),g=n(87051),p=n(68661),b=n(78013),S=n(73713),k=n(66012),_=n(5535),T=n(10898),I=n(52476);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var w=function(e){(0,r.Z)(n,e);var t=P(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e,"league_season"))._phasesOfType=new Map,i.phasesOfType=function(e){return i._phasesProxy.load(),i._phasesOfType.get(e)||[]},i.allPhaseOfTypeInStateOrAbove=function(e,t){return!!i.loadPhases()&&i.phasesData().findIndex((function(n){return n.State<t&&n.Type===e}))<0},i.getPhaseBySectionNumberAndType=function(e,t){return i.phasesOfType(t).find((function(t){return t.SectionNumber===e}))},i.mergedTimeslots=function(){if(!i.loaded()||!i.settingsLoaded())return[];var e=new Map;return i.settingsData().Timeslots.map((function(t){e.get(t.DayOfWeek)?e.set(t.DayOfWeek,"".concat(e.get(t.DayOfWeek),", ").concat(i.getMatchTime(t))):e.set(t.DayOfWeek,i.getMatchDay(t))})),Array.from(e.values())},i.getPhaseById=function(e){return i.loadPhases(),i.phasesData().find((function(t){return t.Id===e}))},i.separatorRow=function(e,t,n){if(!i.settingsLoaded())return null;var a=e+1,r=i.settingsData().QualifiersUp,o=i.settingsData().QualifiersDown,s=i.settingsData().DirectUp,u=i.settingsData().PlayoffsSize,d=i.settingsData().PlayoffsFormat!==l.oy.Tournament.TournamentFormat.Unknown,c=0===n||i.hasTopSectionNumber(t);return i.getPhaseById(t)&&i.getPhaseById(t).Type===l.qA.PhaseType.Qualifier?a===i._promotedFromQualifier():a===u&&c&&d||a===s&&!c||a===r+s&&!c&&i.hasQualifier()||a===i._directDownPosition(t,n)&&!i.isLastDivision(t)||a===i._directDownPosition(t,n)-o&&!(a<u&&c&&d)&&!i.isLastDivision(t)&&i.hasQualifier()},i._arrowIconDataObject={iconType:null,iconBrand:null,tooltipText:""},i.arrowIconData=function(e,t,n){if(!i.settingsLoaded())return null;var a=e+1,r=i.settingsData().QualifiersUp,o=i.settingsData().QualifiersDown,s=i.settingsData().DirectUp,u=i.settingsData().PlayoffsSize,d=i.settingsData().PlayoffsFormat!==l.oy.Tournament.TournamentFormat.Unknown,c=0===n||i.hasTopSectionNumber(t),m=l.qA.PhaseType.Division;switch(t&&(m=i.getPhaseById(t).Type),m){case l.qA.PhaseType.PreQualifier:return null;case l.qA.PhaseType.Division:if(a<=u&&c&&d)return i._setArrowIconDataObject(f.y.ArrowRight,h.Z7.Success,"The top ".concat(u," teams compete in the final\n                            playoffs to determine the best overall team.")),i._arrowIconDataObject;if(a<=s&&!c)return i._setArrowIconDataObject(f.y.ArrowUp,h.Z7.Success,"Teams are moved up (promoted) to the division above at the end of a season."),i._arrowIconDataObject;if(i.hasQualifier()&&a<=r+s&&!c&&(!(a<=s)||c))return i._setArrowIconDataObject(f.y.ArrowUp,h.Z7.Yellow,"Teams compete in a qualifier tournament\n                            for a spot in the division above in the coming season."),i._arrowIconDataObject;if(!i.isLastDivision(t)&&i.hasQualifier()&&a>i._directDownPosition(t,n)-o&&!(a>i._directDownPosition(t,n)))return i._setArrowIconDataObject(f.y.ArrowDown,h.Z7.Warning,"Teams compete in a qualifier tournament to\n                            keep their spot in this division for the coming season"),i._arrowIconDataObject;if(!i.isLastDivision(t)&&a>i._directDownPosition(t,n))return i._setArrowIconDataObject(f.y.ArrowDown,h.Z7.Danger,"Teams are moved down (relegated) to the\n                            division below at the end of a season."),i._arrowIconDataObject;break;case l.qA.PhaseType.Qualifier:if(a<=i._promotedFromQualifier())return i._setArrowIconDataObject(f.y.ArrowUp,h.Z7.Success,"Teams are moved up (promoted) to the division above."),i._arrowIconDataObject;break;case l.qA.PhaseType.FastTrack:if(i.settingsData().FastTrackFormat!==l.oy.Tournament.TournamentFormat.Unknown&&a<=i.settingsData().FastTrackSpots)return i._setArrowIconDataObject(f.y.ArrowUp,h.Z7.Success,"Teams are moved up (promoted) to division ".concat(i.settingsData().FastTrackTargetDivision-1,".")),i._arrowIconDataObject;break;default:return null}return null},i.addHost=function(e){return i.seasonSettings().addHost(e)},i.removeHost=function(e){return i.seasonSettings().removeHost(e)},i._scope.subscribeVoid(T.cmOwnUser),i._scope.subscribeVoid(I.Cu),i._seasonSettings=new b.o(i._scope),i._phasesProxy=new v.n(i._scope,(function(){return i.loaded()}),"league_phase",(function(){return i.data().PhaseIds})),i._phasesProxy.addDataCallback((function(e){i._phasesOfType.clear(),e.forEach((function(e){var t=i._phasesOfType.get(e.Type);(0,u.tQ)(t)&&(t=[],i._phasesOfType.set(e.Type,t)),t.push(e)}))})),i._league=new p.L(i._scope),i._lobbySummaryAdapter=new y.Q(i._scope),i._gameInfo=new S.k(i._scope),i._adapter.addDataCallback((function(e){i._seasonSettings.initById(e.SettingsId),i._phasesProxy.update(),i._league.initById(e.LeagueId),i._lobbySummaryAdapter.initByUrn(new c.Urn("lobby_summary",e.LobbyId))})),i._league.adapter().addDataCallback((function(e){return i._gameInfo.initByGameBrand(g.aW.gameBrand(e.GameRealm))})),i}return(0,i.Z)(n,[{key:"seasonSettings",value:function(){return this._seasonSettings}},{key:"settingsData",value:function(){return this._seasonSettings.data()}},{key:"settingsLoaded",value:function(){return this._seasonSettings.loaded()}},{key:"phasesProxy",value:function(){return this._phasesProxy}},{key:"loadPhases",value:function(){return this._phasesProxy.load()}},{key:"phasesData",value:function(){return this._phasesProxy.objects()}},{key:"league",value:function(){return this._league}},{key:"leagueId",value:function(){return this.loaded()?this.data().LeagueId:null}},{key:"mayEdit",value:function(){return this._league.loaded()&&this._league.mayEditInfo()}},{key:"gameBrand",value:function(){return this._league.gameBrand()}},{key:"gameRealm",value:function(){return this._league.loaded()?this._league.data().GameRealm:l.CY.GameRealm.Unknown}},{key:"isVersus",value:function(){return this._gameInfo.isVersus()}},{key:"isRunning",value:function(){return this.loaded()&&this.data().State===l.qA.SeasonState.Running}},{key:"isPreRunning",value:function(){return this.loaded()&&this.data().State===l.qA.SeasonState.Registration||this.isSeeding()||this.data().State===l.qA.SeasonState.CheckIn}},{key:"isSeeding",value:function(){return this.loaded()&&this.data().State===l.qA.SeasonState.Seeding}},{key:"isPastSeason",value:function(){return this._league.loaded()&&!this.isCurrentSeason()&&this.id()!==this._league.nextSeasonId()}},{key:"nextSeasonId",value:function(){return this._league.loaded()&&this._league.data().NextSeasonId}},{key:"hasNextSeason",value:function(){return this.nextSeasonId()&&this.id()!==this.nextSeasonId()}},{key:"isCurrentSeason",value:function(){return this._league.loaded()&&this.league().currentSeasonId()===this.id()}},{key:"load",value:function(e){return e&&!this.adapter().initialized()&&this.initById(e),this.loaded()}},{key:"phasesOfTypeInStateOrAbove",value:function(e,t){return this.phasesOfType(e).filter((function(e){return e.State>=t}))}},{key:"allPhaseOfTypeInState",value:function(e,t){return!!this.loadPhases()&&this.phasesData().findIndex((function(n){return n.State!==t&&n.Type===e}))<0}},{key:"phasesArePostSeeding",value:function(){return!!this.loadPhases()&&(this.phasesData().length>0&&(this._allPreQualifierPhasesAreRunning()||this._allDivisionPhasesAreRunning()))}},{key:"_allDivisionPhasesAreRunning",value:function(){return this.settingsLoaded()&&this.allPhaseOfTypeInStateOrAbove(l.qA.PhaseType.Division,l.qA.PhaseState.Running)&&(!this.settingsData().ProDivisionFormat||this.allPhaseOfTypeInStateOrAbove(l.qA.PhaseType.ProDivision,l.qA.PhaseState.Running))}},{key:"_allPreQualifierPhasesAreRunning",value:function(){return this.settingsLoaded()&&this.settingsData().PreQualifierFormat&&this.allPhaseOfTypeInStateOrAbove(l.qA.PhaseType.PreQualifier,l.qA.PhaseState.Running)}},{key:"title",value:function(){return this.loaded()&&this._league.loaded()?"".concat(this._league.data().ShortName||this._league.data().Name," Season ").concat(this.data().SeasonNumber):void 0}},{key:"lobbySummaryAdapter",value:function(){return this._lobbySummaryAdapter}},{key:"getTopTeamIds",value:function(){return this._lobbySummaryAdapter.isLoaded()?this._lobbySummaryAdapter.data().TopTeamIds:[]}},{key:"reservationIds",value:function(){return this._lobbySummaryAdapter.isLoaded()?this._lobbySummaryAdapter.data().ReservationIds:[]}},{key:"getTeamCount",value:function(){return this._lobbySummaryAdapter.isLoaded()?this._lobbySummaryAdapter.data().TeamCount:0}},{key:"getFirstPhase",value:function(){var e=this.phasesOfType(l.qA.PhaseType.Division).length>0?l.qA.PhaseType.Division:l.qA.PhaseType.PreQualifier;return this.getPhaseBySectionNumberAndType(0,e)}},{key:"getMatchDay",value:function(e){return"".concat(m.Z8.getDayOfWeekString(e.DayOfWeek),"s at\n            ").concat(this.getMatchTime(e))}},{key:"getMatchTime",value:function(e){return"".concat(e.Hour<10?"0".concat(e.Hour):e.Hour,":").concat(e.Minute<10?"0".concat(e.Minute||"0"):e.Minute)}},{key:"allowedCountries",value:function(){return this.settingsLoaded()?this.settingsData().LobbySettings.Countries.filter((function(e){return!e.Blacklisted})):[]}},{key:"getFirstDivision",value:function(){return this.settingsLoaded()?this.settingsData().ProDivisionFormat!==l.oy.Tournament.TournamentFormat.Unknown?this.phasesOfType(l.qA.PhaseType.ProDivision)[0]:this.phasesOfType(l.qA.PhaseType.Division).find((function(e){return 0===e.SectionNumber})):null}},{key:"hasTopSectionNumber",value:function(e){var t=e?this.getPhaseById(e):null;if(!t)return!1;switch(t.Type){case l.qA.PhaseType.PreQualifier:return!0;case l.qA.PhaseType.Division:return 0===t.SectionNumber;case l.qA.PhaseType.Qualifier:default:return!1}}},{key:"isLastDivision",value:function(e){if(!e||!this.getPhaseById(e))return!1;var t=this.getPhaseById(e).Type;switch(t){case l.qA.PhaseType.PreQualifier:return!0;case l.qA.PhaseType.Division:return this.phasesOfType(t).sort((function(e,t){return t.SectionNumber-e.SectionNumber}))[0].Id===e;case l.qA.PhaseType.Qualifier:default:return!1}}},{key:"phaseByTournamentId",value:function(e){return this.loadPhases(),this.phasesData().find((function(t){return t.TournamentId===e}))}},{key:"hasQualifier",value:function(){return this.settingsData().QualifierFormat!==l.oy.Tournament.TournamentFormat.Unknown}},{key:"_getEstimatedDivisionLengthWeeks",value:function(){var e=this.settingsData().Timeslots.length;if(this.isVersus()){var t=(this.settingsData().MaximumGroupTeamCount-1)*this.settingsData().DivisionEncounters;return Math.ceil(t/e)}return Math.ceil(this.settingsData().DivisionEncounters/e)}},{key:"getEstimatedDivisionLength",value:function(){if(!this.settingsLoaded()||!this.settingsData().MaximumGroupTeamCount||!this.settingsData().Timeslots.length)return null;var e=this._getEstimatedDivisionLengthWeeks(),t=Math.floor(e/4),n=e%4!==0?(0,d.NM)(e%4,"week"):"",a=t?(0,d.NM)(t,"month"):"";return a+(n&&a?" & ":"")+n}},{key:"_groupTeamCount",value:function(){return this.settingsData().MaximumGroupTeamCount}},{key:"_setArrowIconDataObject",value:function(e,t,n){this._arrowIconDataObject.iconType=e,this._arrowIconDataObject.iconBrand=t,this._arrowIconDataObject.tooltipText=n}},{key:"_promotedFromQualifier",value:function(){var e=this.settingsData().DivisionType===l.qA.DivisionType.Tree?2:1,t=this.settingsData().DirectUp*e;return this.settingsData().QualifiersDown+this.settingsData().DirectDown-this.settingsData().DirectUp*t}},{key:"_directDownPosition",value:function(e,t){return this._groupTeamCount()-this._directDowns(e,t)}},{key:"_directDowns",value:function(e,t){var n=this.settingsData().FastTrackFormat!==l.oy.Tournament.TournamentFormat.Unknown,a=this.settingsData().FastTrackTargetDivision,i=this.settingsData().DivisionType===l.qA.DivisionType.Tree?this.settingsData().FastTrackSpots/Math.pow(2,a):this.settingsData().FastTrackSpots,r=this.getPhaseById(e)?this.getPhaseById(e).SectionNumber:t;return n&&r===a?this.settingsData().DirectDown+i:this.settingsData().DirectDown}},{key:"loadPrizes",value:function(){return this.seasonSettings().loadPrizes()}},{key:"prizeSettings",value:function(){return this.seasonSettings().prizeSettings()}},{key:"topFivePrizeResults",value:function(){return this.seasonSettings().topFivePrizeResults()}},{key:"prizePool",value:function(){return this.loadPrizes()?this.seasonSettings().prizePool():0}},{key:"primaryPageId",value:function(){return this.loaded()?this.data().OwnerPageId:null}},{key:"toView",value:function(){return this.isCurrentSeason()?{id:l.IH.Routing.ArenaViewIds.LeagueOverview,params:{leagueId:this.leagueId()}}:{id:l.IH.Routing.ArenaViewIds.LeagueSeasonOverview,params:{seasonId:this.id()}}}}]),n}(_.g);function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,k.$$)(e,"league_season",w,t,n)}},73804:function(e,t,n){n.d(t,{K:function(){return u}});var a=n(6610),i=n(5991),r=(n(2707),n(41539),n(39714),n(20555)),o=n(79075),s=n(91264),u=new(function(){function e(){(0,a.Z)(this,e),this._phaseTypes=[{num:s.qA.PhaseType.Division,name:"Division"},{num:s.qA.PhaseType.PreQualifier,name:"PreQualifier"},{num:s.qA.PhaseType.Qualifier,name:"Qualifier"}],this._divisionTypes=[{num:s.qA.DivisionType.Straight,name:"Straight division"},{num:s.qA.DivisionType.Tree,name:"Tree division"}]}return(0,i.Z)(e,[{key:"bannerUploadTokenUrl",value:function(e){return"/api/League/Image/RequestUploadToken?imageType=league_banner&ExternalId=".concat(e)}},{key:"bannerRatio",value:function(){return 4}},{key:"logoUploadTokenUrl",value:function(e){return"api/League/Image/RequestUploadToken?imageType=league_logo&ExternalId=".concat(e)}},{key:"defaultLogoUrl",value:function(){return n(53634)}},{key:"divisionTypes",value:function(){return this._divisionTypes}},{key:"phaseTypes",value:function(){return this._phaseTypes}},{key:"saveGameSettings",value:function(e,t){return r.Z.to("api/League/SeasonSettings/Edit_Game_Settings").query("seasonsettingsId",e).body(t).call()}},{key:"saveLobbySettings",value:function(e,t){return t.ScheduledLobbyTime=o.Z8.formInputToServer(t.ScheduledLobbyTime),t.ScheduledCheckInTime=o.Z8.formInputToServer(t.ScheduledCheckInTime),t.ScheduledStartTime=o.Z8.formInputToServer(t.ScheduledStartTime),r.Z.to("api/League/SeasonSettings/Edit_Lobby_Settings").query("seasonsettingsId",e).body(t).call()}},{key:"savePhaseSettings",value:function(e,t){return r.Z.to("api/League/SeasonSettings/Edit_Phase_Settings").query("seasonsettingsId",e).body(t).call()}},{key:"saveScheduleSettings",value:function(e,t){return t.Timeslots.sort(this._compareTimeslots),r.Z.to("api/League/SeasonSettings/Edit_Schedule_Settings").query("seasonsettingsId",e).body(t).call()}},{key:"saveRuleBookId",value:function(e,t){return r.Z.to("api/League/SeasonSettings/EditRuleBook").query("seasonsettingsId",e).body(t).call()}},{key:"createSeason",value:function(e){return r.Z.to("api/League/Season/Create").body(e).call()}},{key:"_compareTimeslots",value:function(e,t){return e.DayOfWeek!==t.DayOfWeek?e.DayOfWeek-t.DayOfWeek:e.Hour!==t.Hour?e.Hour-t.Hour:e.Minute-t.Minute}},{key:"saveStartDates",value:function(e,t){return r.Z.to("api/League/Season/Edit_Start_Date").query("seasonId",e).body(t).call()}},{key:"savePrizesSettings",value:function(e,t){return r.Z.to("api/League/SeasonSettings/EditPrizes").query("seasonsettingsId",e).body(t).call()}},{key:"savePrizeSponsor",value:function(e,t){return r.Z.to("api/League/League/Edit_Sponsor").query("leagueId",e).query("sponsoringUserId",t).call()}},{key:"savePageHostIdsSettings",value:function(e,t){return r.Z.to("api/League/SeasonSettings/EditPageHostIds").query("seasonsettingsId",e).body(t).call()}},{key:"changeLeagueVisibility",value:function(e,t){return r.Z.to("api/League/League/EditVisibility").query("leagueId",e).query("state",t.toString()).call()}},{key:"setProTeams",value:function(e,t){return r.Z.to("api/League/Season/Edit_Season_ProTeams").body({SeasonId:e,SocialTeamIds:t}).call()}},{key:"toView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.IH.Routing.ArenaViewIds.LeagueOverview;return e?{id:t,params:{leagueId:e}}:null}}]),e}())},17864:function(e,t,n){n.d(t,{W9:function(){return m},jl:function(){return h}});var a=n(6610),i=n(5991),r=(n(66992),n(51532),n(41539),n(78783),n(33948),n(54747),n(88674),n(65069),n(71578)),o=n(91264),s=n(40175),u=n(20555),l=n(21910),d=n(39743),c=n(60185),m=new(function(){function e(){var t=this;(0,a.Z)(this,e),this._scope=new l.X,this._startAdapter=new s.Q(this._scope),this._attendancesByLobby=new Map,this._startAdapter.initByOwnUserId("lobby_start"),this._startAdapter.addDataCallback((function(){t._rebuildAttendanceIndex()}))}return(0,i.Z)(e,[{key:"voidObservable",value:function(){return this._startAdapter.voidObservable()}},{key:"_rebuildAttendanceIndex",value:function(){var e=this;this._attendancesByLobby.clear(),this._startAdapter.isLoaded()&&this._startAdapter.data().Attendances.forEach((function(t){e._attendancesByLobby.set(t.LobbyId,t)}))}},{key:"attendanceByLobby",value:function(e){if(!(0,r.tQ)(e)){var t=this._attendancesByLobby.get(e);return(0,r.Of)(t)?t:void 0}}},{key:"draft",value:function(e){return u.Z.to("/api/Lobby/Team/Draft").body(e).call()}},{key:"leaveTeam",value:function(e){return u.Z.to("/api/Lobby/Team/Leave").body(e).call()}},{key:"kickTeam",value:function(e){return u.Z.to("/api/Lobby/Team/Kick").body(e).call()}},{key:"swap",value:function(e){return u.Z.to("/api/Lobby/Team/Swap").body(e).call()}},{key:"readyTeam",value:function(e){return u.Z.to("/api/Lobby/Team/Force_Ready").body(e).call()}},{key:"issueInvite",value:function(e,t){return u.Z.to("/api/Lobby/Invitation/Issue").body(e).query("inviteeUserId",t).call()}},{key:"issueReservation",value:function(e,t){return u.Z.to("/api/Lobby/Reservation/Reserve").query("lobbyId",e).query("entityId",t).call()}},{key:"leaveMember",value:function(e){return u.Z.to("/api/Lobby/Member/Leave").body(e).call()}},{key:"kickMember",value:function(e){return u.Z.to("/api/Lobby/Member/Kick").body(e).call()}},{key:"readyMember",value:function(e){return u.Z.to("/api/Lobby/Member/Ready").body(e).call()}},{key:"unreadyMember",value:function(e){return u.Z.to("/api/Lobby/Member/Unready").body(e).call()}},{key:"checkInMember",value:function(e){return u.Z.to("/api/Lobby/Member/Check_In").body(e).call()}},{key:"checkOutMember",value:function(e){return u.Z.to("/api/Lobby/Member/Check_Out").body(e).call()}},{key:"spawnDraftingModal",value:function(e){d.tE.open({id:d.qq.Lobby_Drafting,component:Promise.all([n.e(64749),n.e(24736),n.e(71752),n.e(98600),n.e(91290),n.e(85005),n.e(62682),n.e(63589),n.e(79410),n.e(31497)]).then(n.bind(n,31497)),params:e})}},{key:"spawnEditLineupModal",value:function(e){d.tE.open({id:d.qq.Lobby_EditLineup,component:Promise.all([n.e(58786),n.e(24736),n.e(98600),n.e(91290),n.e(85005),n.e(97787),n.e(62682),n.e(48445),n.e(43962),n.e(63589),n.e(79410),n.e(7077)]).then(n.bind(n,50834)),params:e})}},{key:"createDebug",value:function(){return u.Z.to("/api/Lobby/Lobby/Create").call()}},{key:"closeDebug",value:function(e){return u.Z.to("/api/Lobby/Lobby/Close").body(e).call()}},{key:"allTeamIdsDebug",value:function(e){return u.Z.to("/api/Lobby/Lobby/Get_All_Team_Ids").body(e).call()}},{key:"href",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.IH.Routing.ArenaViewIds.LobbyDebug;return e?c.$.reverse(t,{lobbyId:e}):null}}]),e}());function h(e){d.tE.open({id:d.qq.Lobby_JoinRequirements,component:Promise.all([n.e(91290),n.e(97787),n.e(62682),n.e(48445),n.e(69440)]).then(n.bind(n,20541)),params:e})}},4369:function(e,t,n){n.d(t,{f:function(){return Q},m:function(){return N}});n(12419);var a=n(92137),i=n(6610),r=n(5991),o=n(63349),s=n(66213),u=n(10379),l=n(46070),d=n(77608),c=n(87757),m=n.n(c),h=(n(41539),n(39714),n(88674),n(21249),n(47042),n(69826),n(54747),n(71578)),f=n(91264),v=n(24384),y=n(79075),g=n(86805),p=n(25274),b=n(35856),S=n(40175),k=n(7876),_=n(88024),T=n(87051),I=n(38627),P=n(17864),w=n(15725),D=n(10898),R=n(1454),A=n(96743),U=n(5336);function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,l.Z)(this,n)}}var B=new(function(e){(0,u.Z)(n,e);var t=L(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"hasAccess",value:function(e,t,n,a){if((0,h.Q8)(a))return!1;var i=f.$t[t];return!(null===i||void 0===i||!i.OwnerHasSpecialAccess||(0,h.Q8)(a.CreatorUserId)||e.id()!==a.CreatorUserId)||this._hasAccess(e,this._accessGrantingPermissions(i,a),f.hx[n])}},{key:"_accessGrantingPermissions",value:function(e,t){return e?t?U.sU.isPreSeeding(t.State)?e.PreSeeding[t.Type]||e.InUncoveredStateAccessGrantingPermissions:U.sU.isSeeding(t.State)?e.Seeding[t.Type]||e.InUncoveredStateAccessGrantingPermissions:U.sU.isRunning(t.State)?e.Running[t.Type]||e.InUncoveredStateAccessGrantingPermissions:U.sU.isTerminal(t.State)&&e.Terminal[t.Type]||e.InUncoveredStateAccessGrantingPermissions:e.NoContextAccessGrantingPermissions:[]}}]),n}(n(45079).k)),x=n(68917),C=n(37814),O=n(25531),z=n(66012),M=n(753),Z=n(84694),E=n(10648),F=n(56367),q=n(69747);function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,l.Z)(this,n)}}var Q=function(e){(0,u.Z)(n,e);var t=H(n);function n(e){var r,s;return(0,i.Z)(this,n),(r=t.call(this,e))._lazyPrize=void 0,r._lazyAdmissionJoinable=void 0,r._joinHost=(s=(0,o.Z)(r),{noun:function(){return F.Yi.t("tournament.base.tournament",{ns:"tournament",count:1})},loaded:function(){return s.loaded()&&(!q._.isAuthenticated()||U.sU.loaded()&&D.cmOwnUser.loaded()&&(!s.primaryPageId()||w.wv.loaded()))},stateOk:function(){return s.isLobby()&&!s.data().IsInMaintenance},hasOwnAttendance:function(){return(0,h.Of)(U.sU.ownAttendance(s.id()))},alreadyJoined:function(e){return q._.isAuthenticated()?s.loadMembers()?s.members().some((function(t){return t.UserId===e}))?{value:!0}:{value:!1}:{feedback:F.Yi.t("translations.indicator.loading",{ns:"translations"})}:{value:!1}},gameRealm:function(){var e;return null===(e=s.data())||void 0===e?void 0:e.GameRealm},minimumTier:function(){var e;return null===(e=s.data())||void 0===e?void 0:e.MinimumTier},maximumTier:function(){var e;return null===(e=s.data())||void 0===e?void 0:e.MaximumTier},isBlocked:function(){return w.wv.isBlocked(s.primaryPageId())},externalUrn:function(){return s.urn()},invitational:function(){var e;return null===(e=s.data())||void 0===e?void 0:e.ReservationOnly},maximumTeamSize:function(){var e;return null===(e=s.data())||void 0===e?void 0:e.TeamSize},hasReservation:function(e){var t;return null===(t=s.data())||void 0===t?void 0:t.Reservations.some((function(t){return e.has(t.EntityId)}))},gameInfoShortTitle:function(){return s.gameShortTitle()},requiresVerifiedPubgAccount:function(){var e;return(0,Z.Rd)(r.gameBrand())&&(null===(e=r.specificGameSettings())||void 0===e?void 0:e.AutoCreateLobby)},voidObservable:function(){return(0,_.XL)(s.adapter().voidObservable(),U.sU.voidObservable(),D.cmOwnUser.voidObservable(),M.L.voidObservable(),s._members.voidObservable(),s.gameInfoVoidObservable(),w.wv.voidObservable())}}),r._draftHost=function(e){return{lineupRole:f.rP.Teams.MemberRole.Player,benchRole:f.rP.Teams.MemberRole.BenchWarmer,coachBenchRole:f.rP.Teams.MemberRole.Coach,loaded:function(){return e.loaded()},joinHostApi:function(){return e.joinHost()},urn:function(){return e.adapter().getUrn().toString()},teamSize:function(){return e.loaded()?e.data().TeamSize:0},benchSize:function(){return e.loaded()?e.data().BenchSize:0},coachBenchSize:function(){return e.loaded()?e.data().CoachBenchSize:0},gameBrand:function(){return T.aW.gameBrand(e.loaded()?e.data().GameRealm:f.CY.GameRealm.Unknown)},forceUniqueSocialTeam:function(){return!1},hasMatchmaking:function(){return e.hasMatchmaking()},submit:function(){var e=(0,a.Z)(m().mark((function e(t,n,a,i){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.S.draftTeam(r.id(),n,a,i,t);case 2:r._trySpawnTournamentConfirmedRegistrationModal();case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),voidObservable:function(){return(0,_.XL)(e.joinHost().voidObservable(),e.adapter().voidObservable())}}}((0,o.Z)(r)),r.joinWithHostFollow=function(){var e=(0,a.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.ownAttendance()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(r._trackJoinEvent(),r.tryFollowHost(),!r.isSolo()&&!t){e.next=9;break}return e.next=7,C.S.draftTeam(r.id(),[{UserId:q._.ownUserId(),MemberRole:f.rP.Teams.MemberRole.Player}],!1,void 0,t);case 7:return r._trySpawnTournamentConfirmedRegistrationModal(),e.abrupt("return");case 9:P.W9.spawnDraftingModal({draftHost:r.draftHost()});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r._trySpawnTournamentConfirmedRegistrationModal=function(){r._ownTeamAdapter.addFirstLoadCallback((function(){U.sU.spawnTournamentConfirmedRegistrationModal(r.id())}))},r._scope.subscribeVoid(D.cmOwnUser),r._scope.subscribeVoid(U.sU),r._scope.subscribeVoid(w.wv),r._scope.subscribeVoid(M.L),r._lazyDescription=new k.g(r._scope),r._tournamentSeed=new k.g(r._scope),r._ownTeamAdapter=new S.Q(r._scope),r._ownTeamMembersProxy=new b.n(r._scope,(function(){return r._ownTeamAdapter.isLoaded()&&U.sU.loaded()}),"tournament_member",(function(){var e,t;return null!==(e=null===(t=r._ownTeam())||void 0===t?void 0:t.MemberIds)&&void 0!==e?e:[]}),!0),r._externalEntityAdapter=new S.Q(r._scope),r.adapter().addDataCallback((function(e){var t=r.externalUrn();(0,h.tQ)(t)||r._externalEntityAdapter.initByUrn(g.Urn.parse(t)),e.DescriptionId&&r._lazyDescription.initByUrn(new g.Urn("tournament_description",e.DescriptionId))})),r._auxMembers=new b.n(r._scope,(function(){return r.loaded()}),"tournament_aux_member",(function(){return r.data().AuxMemberIds}),!0),r._hosts=new b.n(r._scope,(function(){return r.loaded()}),"tournament_host",(function(){return r.data().HostIds}),!0),r._teams=new b.n(r._scope,(function(){return r.loaded()}),"tournament_team",(function(){return r.data().TeamIds})),r._members=new b.n(r._scope,(function(){return r._teams.loaded()}),"tournament_member",(function(){return r._teams.loaded()?(0,h.vK)(r._teams.objects().map((function(e){return e.MemberIds}))):[]})),r._alarmClock=new R.e(r._scope),r._alarmClock.init(r.adapter().observable(),(function(){return r.readyWindowStartServer()})),r.adapter().addDataCallback((function(e){r._auxMembers.update(),r._hosts.update(),r._teams.update()})),r._teams.addLazyDataCallback((function(){r._members.update()})),r._ownTeamAdapter.addDataCallback((function(e){r._ownTeamMembersProxy.update()})),U.sU.adapter().addDataCallback((function(){r._ownTeamAdapter.uninit(),r._ownTeam(),r._ownTeamMembersProxy.update()})),r}return(0,r.Z)(n,[{key:"initById",value:function(e){var t=this;return(0,s.Z)((0,d.Z)(n.prototype),"initById",this).call(this,e),this._tournamentSeed.initByDataStoreAdapterFactory((function(){return new S.Q(t._scope).initByUrn(new g.Urn("tournament_seed",e))})),this}},{key:"seedAdapter",value:function(){return this._tournamentSeed.adapter()}},{key:"loaded",value:function(){return this.adapter().isLoaded()}},{key:"data",value:function(){return this.adapter().data()}},{key:"id",value:function(){return this.adapter().id()}},{key:"externalEntityLoaded",value:function(){return this._externalEntityAdapter.isLoaded()}},{key:"joinHost",value:function(){return this._joinHost}},{key:"draftHost",value:function(){return this._draftHost}},{key:"_generalGameSettings",value:function(){return this.loaded()?this.data().Settings:null}},{key:"specificGameSettings",value:function(){return T.aW.deserializeSpecificGameSettings(this._generalGameSettings())}},{key:"manualReportingSettings",value:function(){return T.aW.deserializeManualReportingSettings(this._generalGameSettings())}},{key:"gameSettingsVersion",value:function(){var e;return null===(e=this._generalGameSettings())||void 0===e?void 0:e.CM_GameSettingsSchemaVersion}},{key:"externalUrn",value:function(){if(this.loaded())switch(this.data().Type){case f.oy.Tournament.TournamentType.League:return"cm:league_phase:".concat(this.data().ExternalId)}}},{key:"mayUpgrade",value:function(){return this.isUserTournament()&&D.cmOwnUser.may(f.Sf.Permission.Tournament_EditAnyTournament)}},{key:"mayCreateFromBlueprint",value:function(){var e;return(null===(e=this.data())||void 0===e?void 0:e.IsBlueprint)&&D.cmOwnUser.may(f.Sf.Permission.Tournament_CreateBlueprint)}},{key:"reportManually",value:function(){var e;return T.aW.manualReportingEnabled(null===(e=this.data())||void 0===e?void 0:e.ReportManually,this.gameBrand(),this.manualReportingSettings())}},{key:"canChat",value:function(){return q._.isAuthenticated()}},{key:"chatUrn",value:function(){var e,t;return null!==(e=this.data())&&void 0!==e&&e.HasChat&&null!==(t=this.data())&&void 0!==t&&t.ChatUrnRaw?g.Urn.parse(this.data().ChatUrnRaw):void 0}},{key:"isPreQualifier",value:function(){return this._isType(f.qA.PhaseType.PreQualifier)}},{key:"isQualifier",value:function(){return this._isType(f.qA.PhaseType.Qualifier)}},{key:"isDivision",value:function(){return this._isType(f.qA.PhaseType.Division)}},{key:"isProDivision",value:function(){return this._isType(f.qA.PhaseType.ProDivision)}},{key:"_isType",value:function(e){var t=this;return this.loaded()&&this.loadSeason()&&this.data().Type===f.oy.Tournament.TournamentType.League&&this._season.phasesOfType(e).some((function(e){return e.TournamentId===t.id()}))}},{key:"typeTitle",value:function(){var e;return null!==(e=this.data())&&void 0!==e&&e.IsBlueprint?F.Yi.t("tournament.base.tournamentBlueprint",{ns:"tournament",count:1}):this.isVanillaOrUserTournament()?F.Yi.t("tournament.base.tournament",{ns:"tournament",count:1}):this.isPreQualifier()?F.Yi.t("tournament.base.preQualifier",{ns:"tournament"}):this.isQualifier()?F.Yi.t("tournament.base.qualifier",{ns:"tournament"}):this.isDivision()?F.Yi.t("tournament.base.division",{ns:"tournament"}):this.isProDivision()?F.Yi.t("tournament.base.proDivision",{ns:"tournament"}):F.Yi.t("tournament.base.tournament",{ns:"tournament",count:1})}},{key:"loadSeason",value:function(){if(this.externalEntityLoaded())return this._season||(this._season=new I.y(this._scope)),this._season.load(this._externalEntityAdapter.data().SeasonId)}},{key:"title",value:function(){return this.loaded()?"league_phase"===this.getExternalUrnNameSpace()&&this.externalEntityLoaded()?this._externalEntityAdapter.data().Title:this.data().Name:F.Yi.t("translations.indicator.loading")}},{key:"getExternalUrnNameSpace",value:function(){var e=this.externalUrn();return(0,h.tQ)(e)?null:g.Urn.parse(e).nameSpace}},{key:"leagueId",value:function(){return this.loadSeason()?this._season.data().LeagueId:null}},{key:"seasonId",value:function(){return this.externalEntityLoaded()?this._externalEntityAdapter.data().SeasonId:null}},{key:"mapUrl",value:function(){return this.loaded()?T.aW.mapImageUrl(this.gameBrand(),this.specificGameSettings()):void 0}},{key:"stages",value:function(){if(!this.loaded())return[];var e=this.data(),t=0;switch(e.Format){case f.oy.Tournament.TournamentFormat.JustSingleElimination:case f.oy.Tournament.TournamentFormat.JustDoubleElimination:case f.oy.Tournament.TournamentFormat.JustSwiss:case f.oy.Tournament.TournamentFormat.Dreamhack2018PubgShowdown:return[{index:t++,title:F.Yi.t("tournament.base.bracket",{ns:"tournament"}),bracket2Ids:e.Bracket2Ids,isPlayoffs:!0}];case f.oy.Tournament.TournamentFormat.JustRoundRobin:return[{index:t++,title:F.Yi.t("tournament.base.groupStage",{ns:"tournament"}),bracket2Ids:e.Bracket2Ids,isPlayoffs:!1}];case f.oy.Tournament.TournamentFormat.RoundRobinSingleElimination:case f.oy.Tournament.TournamentFormat.RoundRobinDoubleElimination:case f.oy.Tournament.TournamentFormat.RoundRobinSwiss:return[{index:t++,title:F.Yi.t("tournament.base.groupStage",{ns:"tournament"}),bracket2Ids:e.Bracket2Ids.slice(0,1),isPlayoffs:!1},{index:t++,title:F.Yi.t("tournament.base.playoffs",{ns:"tournament"}),bracket2Ids:e.Bracket2Ids.slice(1),isPlayoffs:!0}];case f.oy.Tournament.TournamentFormat.RoundRobinX2SingleElimination:case f.oy.Tournament.TournamentFormat.RoundRobinX2DoubleElimination:case f.oy.Tournament.TournamentFormat.RoundRobinX2Swiss:return[{index:t++,title:F.Yi.t("tournament.base.groupStage",{ns:"tournament",context:"numbered",number:1}),bracket2Ids:e.Bracket2Ids.slice(0,1),isPlayoffs:!1},{index:t++,title:F.Yi.t("tournament.base.groupStage",{ns:"tournament",context:"numbered",number:2}),bracket2Ids:e.Bracket2Ids.slice(1,2),isPlayoffs:!1},{index:t++,title:F.Yi.t("tournament.base.playoffs",{ns:"tournament"}),bracket2Ids:e.Bracket2Ids.slice(2),isPlayoffs:!0}];default:return[]}}},{key:"teamsMissing",value:function(){var e=this.data();return(null===e||void 0===e?void 0:e.MinimumTeamCount)>(null===e||void 0===e?void 0:e.ReadyTeamCount)?(null===e||void 0===e?void 0:e.MinimumTeamCount)-(null===e||void 0===e?void 0:e.ReadyTeamCount):0}},{key:"teams",value:function(){return this._teams.objects()}},{key:"members",value:function(){return this._teams.load(),this._members.objects()}},{key:"loadMembers",value:function(){return this._teams.load()&&this._members.load()}},{key:"hosts",value:function(){var e=this;return(0,h.SX)(this._hosts.objects(),(function(t){return t.PageId===e.primaryPageId()?0:1}))}},{key:"pageHostIds",value:function(){return this.hosts().map((function(e){return e.PageId}))}},{key:"loadHosts",value:function(){return this._hosts.load()}},{key:"_ownTeam",value:function(e){return null==e&&(e=this.ownAttendance()),null==e?null:(this._ownTeamAdapter.initialized()||this._ownTeamAdapter.initByUrn(new g.Urn("tournament_team",e.OwnTeamId)),this._ownTeamAdapter.getData())}},{key:"_ownTeamMembers",value:function(){return this._ownTeam(),this._ownTeamMembersProxy.objects()}},{key:"_ownMember",value:function(){return this._ownTeamMembers().find((function(e){return e.UserId===q._.ownUserId()}))}},{key:"auxMembers",value:function(){return this._auxMembers.objects()}},{key:"loadAuxMembers",value:function(){return this._auxMembers.load()}},{key:"descriptionData",value:function(){var e=this._lazyDescription.adapter();return e?e.data():void 0}},{key:"descriptionLoaded",value:function(){var e=this._lazyDescription.adapter();return e&&e.isLoaded()}},{key:"hasMatchmaking",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.TeamMatchmakingEnabled}},{key:"isjustRoundRobin",value:function(){return this.loaded()&&this.data().Format===f.oy.Tournament.TournamentFormat.JustRoundRobin}},{key:"isOrganizer",value:function(){return this.loaded()&&q._.isAuthenticated()&&this.data().CreatorUserId===q._.ownUserId()}},{key:"isAuxMember",value:function(e){return this.loadAuxMembers()&&this.auxMembers().some((function(t){return t.UserId===q._.ownUserId()&&e===t.Role}))}},{key:"hasAccess",value:function(e){this.loadAuxMembers();var t=this.auxMembers().find((function(e){return e.UserId===q._.ownUserId()}));return B.hasAccess(D.cmOwnUser,e,null===t||void 0===t?void 0:t.Role,this.data())}},{key:"mayEdit",value:function(){return(this.isOrganizer()||this.isAuxMember(f.oy.AuxRole.CoAdmin))&&!this.isUserTournament()||D.cmOwnUser.may(f.Sf.Permission.Tournament_EditAnyTournament)}},{key:"_mayEditStsTournaments",value:function(){return this.isOrganizer()||this.isAuxMember(f.oy.AuxRole.CoAdmin)||D.cmOwnUser.may(f.Sf.Permission.Tournament_EditAnyTournament)}},{key:"mayEditTournament",value:function(){return this.isUserTournament()?this._mayEditStsTournaments():this.mayEdit()}},{key:"isNew",value:function(){return U.sU.isNew(this.state())}},{key:"isLobby",value:function(){return U.sU.isLobby(this.state())}},{key:"isCheckIn",value:function(){return U.sU.isCheckIn(this.state())}},{key:"isRegistration",value:function(){return U.sU.isRegistration(this.state())}},{key:"isSeeding",value:function(){return U.sU.isSeeding(this.state())}},{key:"isRunning",value:function(){return U.sU.isRunning(this.state())}},{key:"isPreSeeding",value:function(){return U.sU.isPreSeeding(this.state())}},{key:"isSeedable",value:function(){return this.isRegistration()||this.isSeeding()}},{key:"isPostCheckin",value:function(){return this.isSeeding()||this.isPostSeeding()}},{key:"isPreRunning",value:function(){return U.sU.isPreRunning(this.state())}},{key:"isPostSeeding",value:function(){return this.isRunning()||this.isTerminal()}},{key:"isOpen",value:function(){return this.isPreRunning()||this.isRunning()}},{key:"isManual",value:function(){return this.loaded()&&this.data().DriveMode===f.rP.Core.TournamentDriveMode.Manual}},{key:"admissionJoinable",value:function(){return void 0===this._lazyAdmissionJoinable&&(this._lazyAdmissionJoinable=new O.V(this._scope)),this.adapter().initialized()&&!this._lazyAdmissionJoinable.adapter().initialized()&&this._lazyAdmissionJoinable.initById(this.data().JoinableId),this._lazyAdmissionJoinable}},{key:"requiresAdmission",value:function(){var e;return(null===(e=this.admissionData())||void 0===e?void 0:e.State)===f.oy.Admission.JoinableState.Active}},{key:"admissionData",value:function(){return this.admissionJoinable().adapter().data()}},{key:"showStartTimer",value:function(){return this.isPreRunning()&&!!this.data().ScheduledStartTime}},{key:"scheduledStartTimeServer",value:function(){return this.loaded()?y.Z8.utcServerToLocal(this.data().ScheduledStartTime):null}},{key:"endTimeServer",value:function(){return this.loaded()?y.Z8.utcServerToLocal(this.data().EndTime):null}},{key:"isWaitingForReadyWindow",value:function(){var e=this.readyWindowStartServer();return e&&(0,y.P1)(e,new Date)}},{key:"readyWindowStartServer",value:function(){var e=this.scheduledStartTimeServer();return e&&this.isLobby()&&this.data().ReadyWindowMinutes>0?(0,y.GR)(e,{minutes:this.data().ReadyWindowMinutes}):null}},{key:"ownUserNeedsToVerifySummoner",value:function(){return(0,Z.vF)(this.gameBrand())&&D.cmOwnUser.needsToVerifySummoner(this.data().GameRealm)}},{key:"uriParamStageBracket2Ids",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if((0,h.GV)(e)){var t=this.stages().find((function(t){return t.index===e-1}));return t?t.bracket2Ids:[]}return this.loaded()?this.data().Bracket2Ids:[]}},{key:"prize",value:function(){return void 0===this._lazyPrize&&(this._lazyPrize=new A.F(this._scope)),this.adapter().initialized()&&!this._lazyPrize.adapter().initialized()&&this._lazyPrize.initById(this.id()),this._lazyPrize}},{key:"prizeData",value:function(){return this.prize().adapter().data()}},{key:"topThreeResults",value:function(){return this.prize().loaded()?this.prizeData().Results.slice(0,3):[]}},{key:"prizePool",value:function(){return this.loaded()?this.data().CurrentDistributableTokenCount:0}},{key:"isOwnTeamPlaying",value:function(){return this.isRunning()&&this._isOwnTeamSeeded()&&!this.prize().isOwnTeamEliminated()}},{key:"prizeTabTitle",value:function(){return!this.isVanillaOrUserTournament()||this.resultsAvailable()?F.Yi.t("tournament.base.results",{ns:"tournament"}):this.isVanillaOrUserTournament()&&0!==this.prizePool()&&!this.resultsAvailable()?F.Yi.t("tournament.base.prizes",{ns:"tournament"}):F.Yi.t("tournament.base.results",{ns:"tournament"})}},{key:"hasBronzeMatch",value:function(){return this.data().BuilderExtra&&(this.data().BuilderExtra.BronzeMatch||this.data().BuilderExtra.PlayoffsExtra&&this.data().BuilderExtra.PlayoffsExtra.BronzeMatch)}},{key:"ownAttendance",value:function(){return U.sU.ownAttendance(this.id())}},{key:"ownChildTournamentAttendance",value:function(){return U.sU.ownChildTournamentAttendance(this.id())}},{key:"_isOwnTeamSeeded",value:function(){return U.sU.isOwnTeamSeeded(this._seed(),this.ownAttendance())}},{key:"_seed",value:function(){var e=this._tournamentSeed.adapter();return e?e.getData():void 0}},{key:"results",value:function(){return this.prize().loaded()?this.prizeData().Results:[]}},{key:"showResults",value:function(){return!this.isVanillaOrUserTournament()||this.resultsAvailable()||this.prizePool()>0}},{key:"resultsAvailable",value:function(){return(0,h.V3)(this.results(),(function(e){return e.TeamIds.length}))>0}},{key:"canFollowHost",value:function(){return this.primaryPageId()&&w.wv.canFollow(this.primaryPageId())}},{key:"tryFollowHost",value:function(){var e=(0,a.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.canFollowHost()){e.next=8;break}return e.prev=1,e.next=4,w.wv.follow(this.primaryPageId(),!1);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"maxTeamMemberCount",value:function(){var e,t,n;return(null===(e=this.data())||void 0===e?void 0:e.TeamSize)+(null===(t=this.data())||void 0===t?void 0:t.BenchSize)+(null===(n=this.data())||void 0===n?void 0:n.CoachBenchSize)}},{key:"isSolo",value:function(){var e,t;return 1===(null===(e=this.data())||void 0===e?void 0:e.TeamSize)&&!this.data().BenchSize&&!(null!==(t=this.data())&&void 0!==t&&t.CoachBenchSize)}},{key:"anyBracket",value:function(){var e;return(null===(e=this.data())||void 0===e?void 0:e.Bracket2Ids.length)>0}},{key:"canResolve",value:function(){return this.data().PlacementsReady&&this.isRunning()}},{key:"mayForceUnstart",value:function(){return D.cmOwnUser.may(f.Sf.Permission.Tournament_ForceUnstart)}},{key:"mayForceUnseed",value:function(){return D.cmOwnUser.may(f.Sf.Permission.Tournament_ForceUnseed)}},{key:"_trackJoinEvent",value:function(){v.J.trackEvent({category:E.P.Tournament,name:"Join",label:this.data().Name,value:this.data().EntryFee*this.data().TeamSize,id:this.data().Id}),this.loadHosts()&&this.hosts().forEach((function(e){w.wv.canFollow(e.PageId)&&v.J.trackEvent({category:E.P.Tournament,name:"Follow",label:"Page",id:e.PageId})}))}},{key:"feedbackHost",value:function(){var e=this;return{noun:function(){return F.Yi.t("tournament.base.tournament",{ns:"tournament"})},loaded:function(){return e.loaded()},isClosed:function(){return e.isClosed()},isSeeding:function(){return e.isSeeding()},isPreRunning:function(){return e.isPreRunning()},minimumTeamSize:function(){var t;return null===(t=e.data())||void 0===t?void 0:t.TeamSize},maximumTeamSize:function(){var t;return null===(t=e.data())||void 0===t?void 0:t.TeamSize},benchSize:function(){var t;return null===(t=e.data())||void 0===t?void 0:t.BenchSize},coachBenchSize:function(){var t;return null===(t=e.data())||void 0===t?void 0:t.CoachBenchSize},ownAttendance:function(){return e.ownAttendance()},ownMember:function(){return e._ownMember()},ownTeam:function(t){return e._ownTeam(t)},ownTeamAdmissible:function(t){var n;return null===(n=e._ownTeam(t))||void 0===n?void 0:n.IsAdmissible},ownTeamAdmissionStatus:function(t){var n;return null===(n=e._ownTeam(t))||void 0===n?void 0:n.AdmissionRequestStatus},requiresAdmission:function(){return e.requiresAdmission()},subscriptionPerkIds:function(){var t,n;return null!==(t=null===(n=e.data())||void 0===n?void 0:n.SubscriptionPerkIds)&&void 0!==t?t:[]},surveyIds:function(){var t,n;return null!==(t=null===(n=e.data())||void 0===n?void 0:n.SurveyIds)&&void 0!==t?t:[]},connectionRestrictions:function(){var t,n;return null!==(t=null===(n=e.data())||void 0===n?void 0:n.ConnectionRestrictions)&&void 0!==t?t:[]},restrictionPageFeatures:function(){var t,n;return null!==(t=null===(n=e.data())||void 0===n?void 0:n.RestrictionPageFeatures)&&void 0!==t?t:[]},minimumTier:function(){var t;return null===(t=e.data())||void 0===t?void 0:t.MinimumTier},maximumTier:function(){var t;return null===(t=e.data())||void 0===t?void 0:t.MaximumTier},primaryPageId:function(){return e.primaryPageId()},externalUrn:function(){return e.urn()},ownTeamMembers:function(){return e._ownTeamMembers()},isPlayer:function(e){return e.Role===f.rP.Teams.MemberRole.Player},isBenchWarmer:function(e){return e.Role===f.rP.Teams.MemberRole.BenchWarmer},isCoach:function(e){return e.Role===f.rP.Teams.MemberRole.Coach},isReady:function(e){return e.IsReady},isCheckedIn:function(e){return!1},isInMaintenance:function(){var t;return null===(t=e.data())||void 0===t?void 0:t.IsInMaintenance},hasLimitedSlots:function(){return!0},onWaitList:function(t){return e.data().TeamIds.indexOf(t.OwnTeamId)>=e.capacity()},waitListIndex:function(t){return e.data().TeamIds.indexOf(t.OwnTeamId)-e.capacity()},ownTeamNotSeeded:function(t){return e.seedAdapter().isLoaded()&&!e._isOwnTeamSeeded()},placement:function(t){var n=e.prize().findResultByTeam(t.OwnTeamId);return null!=n?n.BestPlacement:void 0},ownTeamPlayingFeedback:function(){if(e.isOwnTeamPlaying())return{alertBrand:p.Z6.Info,text:F.Yi.t("tournament.overview.text.gameOn",{ns:"tournament",count:e.stages().length>1?2:1})}},ownUserNeedsToVerifySummoner:function(){return e.ownUserNeedsToVerifySummoner()},avatarId:function(e){return e.AvatarId},paymentRequired:function(e){return e.PaymentRequired},entryFee:function(){var t;return null===(t=e.data())||void 0===t?void 0:t.EntryFee},seedable:function(e){return e.IsSeedable},isLookingForMembers:function(e){return null===e||void 0===e?void 0:e.LookingForMoreMembers},isCheckInUsed:function(){return!1},isWaitingForCheckIn:function(){return!1},teamsMissing:function(){return e.teamsMissing()},isWaitingForReadyWindow:function(){return e.isWaitingForReadyWindow()},readyWindowMinutes:function(){var t;return null===(t=e.data())||void 0===t?void 0:t.ReadyWindowMinutes},isBlocked:function(){return w.wv.isBlocked(e.primaryPageId())},voidObservable:function(){return e._scope.voidObservable()}}}}]),n}(x.O);function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,z.$$)(e,"tournament",Q,t,n)}},68917:function(e,t,n){n.d(t,{O:function(){return _}});n(12419);var a=n(6610),i=n(5991),r=n(10379),o=n(46070),s=n(77608),u=(n(92222),n(71578)),l=n(91264),d=n(84694),c=n(5535),m=n(87051),h=n(73713),f=n(3557),v=n(52476),y=n(57432),g=n(5336),p=n(25531),b=n(56367),S=n(60712);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var _=function(e){(0,r.Z)(n,e);var t=k(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e,"tournament")).logoUrl=function(e,t){var n,a;return i.loaded()?null!==(n=i.data())&&void 0!==n&&n.Logo?v.Cu.imageUrl("tournament_logo",i.data().Logo,e,t):i._gameInfo.imageUrl(e,t,f.O.Icon,null===(a=i._gameInfo.arenaImageResources())||void 0===a?void 0:a.IconImageId)||g.sU.defaultTournamentLogoUrl():null},i.logoSrcSet=function(){var e,t;return i.loaded()?null!==(e=i.data())&&void 0!==e&&e.Logo?v.Cu.getImageSrcSet("tournament_logo",i.data().Logo):i._gameInfo.imageSrcSet(f.O.Icon,null===(t=i._gameInfo.arenaImageResources())||void 0===t?void 0:t.IconImageId):null},i.bannerUrl=function(e,t){var n,a;return i.loaded()?null!==(n=i.data())&&void 0!==n&&n.Banner?v.Cu.imageUrl("tournament_banner",i.data().Banner,e,t):i._gameInfo.imageUrl(e,t,f.O.Banner,null===(a=i._gameInfo.arenaImageResources())||void 0===a?void 0:a.BannerImageId):null},i.bannerSrcSet=function(){var e,t;return i.loaded()?null!==(e=i.data())&&void 0!==e&&e.Banner?v.Cu.getImageSrcSet("tournament_banner",i.data().Banner):i._gameInfo.imageSrcSet(f.O.Banner,null===(t=i._gameInfo.arenaImageResources())||void 0===t?void 0:t.BannerImageId):null},i.challengeBannerUrl=function(e,t){var n;return i.loaded()?null!==(n=i.data())&&void 0!==n&&n.ChallengeBanner?v.Cu.imageUrl("challenge_banner",i.data().ChallengeBanner,e,t):i.bannerUrl(e,t):null},i.matchBannerUrl=function(e,t){return i.challengeBannerUrl(e,t)||i.bannerUrl(e,t)},i.thumbnailUrl=function(e,t){var n;return null===(n=i._thumbnail(e,t))||void 0===n?void 0:n.url},i._scope.subscribeVoid(v.Cu),i._scope.subscribeVoid(b.Yi),i._gameInfo=new h.k(i._scope),i._admissionJoinable=new p.V(i._scope),i._adapter.addDataCallback((function(e){i._gameInfo.initByGameBrand(e.GameBrand),e.JoinableId&&i._admissionJoinable.initById(e.JoinableId)})),i}return(0,i.Z)(n,[{key:"name",value:function(){return this.loaded()?this.data().Name:""}},{key:"primaryPageId",value:function(){return this.loaded()?this.data().OwnerPageId:null}},{key:"gameBrand",value:function(){return this.loaded()?this.data().GameBrand:null}},{key:"prizePool",value:function(){return this.loaded()?this.data().CurrentDistributableTokenCount:0}},{key:"state",value:function(){return this.loaded()?this.data().State:l.oy.Tournament.TournamentState.Unknown}},{key:"hostIds",value:function(){return this.loaded()?this.data().HostIds:[]}},{key:"userTournamentOrganizerId",value:function(){return this.loaded()&&this.isUserTournament()?this.data().CreatorUserId:null}},{key:"isHostedByChallengermode",value:function(){return this.loaded()&&(0,u.tQ)(this.hostIds())&&!this.userTournamentOrganizerId()}},{key:"notHostedByChallengermode",value:function(){return this.loaded()&&!this.isHostedByChallengermode()}},{key:"isRequestToJoin",value:function(){var e;return this.loaded()&&this.data().JoinableId&&(null===(e=this._admissionJoinable.data())||void 0===e?void 0:e.State)!==l.oy.Admission.JoinableState.Disabled}},{key:"isSubscribeToJoin",value:function(){return this.loaded()&&!(0,u.tQ)(this.data().SubscriptionPerkIds)}},{key:"isVanilla",value:function(){return this.loaded()&&this.data().Type===l.oy.Tournament.TournamentType.Vanilla}},{key:"isUserTournament",value:function(){return this.loaded()&&this.data().Type===l.oy.Tournament.TournamentType.UserCreated}},{key:"isVanillaOrUserTournament",value:function(){return this.isVanilla()||this.isUserTournament()}},{key:"isVersus",value:function(){return this._gameInfo.isVersus()}},{key:"gameTitle",value:function(){return this._gameInfo.title()}},{key:"gameShortTitle",value:function(){return this._gameInfo.shortTitle()}},{key:"gameInfoVoidObservable",value:function(){return this._gameInfo.voidObservable()}},{key:"teamSizeOptions",value:function(){return this._gameInfo.teamSizeOptions()}},{key:"tiersEnabled",value:function(){return this._gameInfo.featureEnabled(l.Sf.Permission.Stats_Tiers_Feature)}},{key:"teamFinderEnabled",value:function(){return this._gameInfo.featureEnabled(l.Sf.Permission.Social_TeamFinder_Feature)}},{key:"isPreRunning",value:function(){return g.sU.isPreRunning(this.state())}},{key:"isClosed",value:function(){return g.sU.isClosed(this.state())}},{key:"isCompleted",value:function(){return g.sU.isCompleted(this.state())}},{key:"isTerminal",value:function(){return this.isCompleted()||this.isClosed()}},{key:"isPrivate",value:function(){return this.loaded()&&!this.data().IsPublic}},{key:"isReservationOnly",value:function(){return this.loaded()&&this.data().ReservationOnly}},{key:"isPayToEnter",value:function(){return this.loaded()&&this.data().EntryFee>0}},{key:"thumbnailSrcSet",value:function(){var e;return null===(e=this._thumbnail())||void 0===e?void 0:e.srcSet}},{key:"_thumbnail",value:function(e,t){var n,a,i,r,o,s;if(!this.loaded())return null;if(null!==(n=this.data())&&void 0!==n&&n.Thumbnail){var u="tournament_thumbnail",l=this.data().Thumbnail;return{srcSet:v.Cu.getImageSrcSet(u,l),url:v.Cu.imageUrl(u,l,e,t)}}if(null!==(a=this.data())&&void 0!==a&&a.Banner){var d="tournament_banner",c=this.data().Banner;return{srcSet:v.Cu.getImageSrcSet(d,c),url:v.Cu.imageUrl(d,c,e,t)}}return{srcSet:this._gameInfo.imageSrcSet(f.O.Background,null===(i=this._gameInfo.arenaImageResources())||void 0===i?void 0:i.BackgroundImageId)||this._gameInfo.imageSrcSet(f.O.Banner,null===(r=this._gameInfo.arenaImageResources())||void 0===r?void 0:r.BannerImageId),url:this._gameInfo.imageUrl(1920,1080,f.O.Background,null===(o=this._gameInfo.arenaImageResources())||void 0===o?void 0:o.BackgroundImageId)||this._gameInfo.imageUrl(e,t,f.O.Banner,null===(s=this._gameInfo.arenaImageResources())||void 0===s?void 0:s.BannerImageId)}}},{key:"participantsName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=b.Yi.t("tournament.base.team",{ns:"tournament",count:t?2:1}),a=b.Yi.t("translations.base.player",{ns:"translations",count:t?2:1});if(this.loaded()){var i=this.data().TeamSize>1?n:a;return e?(0,d.zT)(i):i}return n}},{key:"maximumAvailableSlots",value:function(){var e=this.data();return(null===e||void 0===e?void 0:e.TeamCount)*(null!==e&&void 0!==e&&e.AutomaticDuplicationEnabled&&(null===e||void 0===e?void 0:e.MaximumTournamentDuplicationCount)>0?null===e||void 0===e?void 0:e.MaximumTournamentDuplicationCount:1)}},{key:"capacity",value:function(){var e=this.data();return null!==e&&void 0!==e&&e.AutomaticDuplicationEnabled?null===e||void 0===e?void 0:e.CurrentDuplicationSlotCapacity:null===e||void 0===e?void 0:e.TeamCount}},{key:"confirmedSlots",value:function(){var e=this.data(),t=Math.min(null===e||void 0===e?void 0:e.ReadyTeamCount,this.capacity());return(null===e||void 0===e?void 0:e.MinimumTeamCount)>t?0:t}},{key:"hasDynamicPrizes",value:function(){return this.loaded()&&this.data().MinimumDistributableTokenCount!=this.data().MaximumDistributableTokenCount}},{key:"prizePoolString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(!this.loaded()||0===this.prizePool())return"";(0,u.IZ)(n)||(n=[this.data().CurrentDistributableTokenCount,this.data().MinimumDistributableTokenCount,this.data().MaximumDistributableTokenCount]);var a="";return a+=y.N.moneyString({tokenCount:n[0],currency:e,currencySign:!0}),this.isPreRunning()&&this.hasDynamicPrizes()&&(t&&(a+=" (".concat(y.N.moneyString({tokenCount:n[1],currency:e,currencySign:!0}))),a+=" - ".concat(y.N.moneyString({tokenCount:n[2],currency:e,currencySign:!0})),t&&(a+=")")),a}},{key:"prizePoolDisplayString",value:function(e){var t;return(null===(t=this.data())||void 0===t?void 0:t.CustomPrizeText)||this.prizePoolString(e)}},{key:"detailsString",value:function(e){var t,n,a=m.aW.gameRealmShortTitle(null===(t=this.data())||void 0===t?void 0:t.GameRealm),i=(0,S.IG)(null===(n=this.data())||void 0===n?void 0:n.Region),r=this.prizePoolDisplayString(e);return this.loaded()?"".concat("".concat("Global"===a&&i?(0,S.IG)(this.data().Region):a," \u2022")," ").concat(this.data().TeamSize,"v").concat(this.data().TeamSize,"".concat(r?" \u2022 ".concat(r):"")," \u2022 ").concat(b.Yi.t("tournament.base.slot",{ns:"tournament",count:this.maximumAvailableSlots()})):b.Yi.t("translations.indicator.loading",{ns:"translations"})}}]),n}(c.g)},96743:function(e,t,n){n.d(t,{F:function(){return m},W:function(){return h}});n(12419);var a=n(6610),i=n(5991),r=n(10379),o=n(46070),s=n(77608),u=(n(69826),n(5336)),l=n(5535),d=n(66012);function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var m=function(e){(0,r.Z)(n,e);var t=c(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,"tournament_prize")}return(0,i.Z)(n,[{key:"findResultByTeam",value:function(e){return this.loaded()?this.data().Results.find((function(t){return t.TeamIds.some((function(t){return t===e}))})):null}},{key:"eliminated",value:function(e){return null!=this.findResultByTeam(e)}},{key:"isOwnTeamEliminated",value:function(){var e=u.sU.ownAttendance(this.adapter().id());return null!==e&&this.eliminated(e.OwnTeamId)}}]),n}(l.g);function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,d.$$)(e,"tournament_prize",m,t,n)}},1454:function(e,t,n){n.d(t,{$:function(){return c},e:function(){return m}});var a=n(6610),i=n(5991),r=n(28481),o=n(67294),s=n(48359),u=n(79075),l=n(8939);function d(e,t){var n=Math.pow(2,31)-1;e=e instanceof Date?e:u.Z8.utcServerToLocal(e);var a=(0,u.rz)(e,l.i.now());if(a<0)return t(!0),null;return t(!1),function e(a){return setTimeout((function(){a>n?e(a-=n):t(!0)}),a>n?n:a)}(a)}function c(e){var t=o.useState(!1),n=(0,r.Z)(t,2),a=n[0],i=n[1];return o.useEffect((function(){var t=d(e,i);return function(){clearTimeout(t)}}),[e]),a}var m=function(){function e(t){(0,a.Z)(this,e),this._scope=t}return(0,i.Z)(e,[{key:"init",value:function(e,t){var n=this,a=e.pipe((0,s.map)(t)).subscribe((function(e){n._clearAlarmClock(),n._scope.applyAsync(),n._setAlarmClock(e)}));this._scope.onDestroy((function(){n._clearAlarmClock(),a.unsubscribe()}))}},{key:"_setAlarmClock",value:function(e){var t=this;this._alarmClock=d(e,(function(){return t._scope.applyAsync()}))}},{key:"_clearAlarmClock",value:function(){this._alarmClock&&(window.clearTimeout(this._alarmClock),this._alarmClock=void 0)}}]),e}()}}]);