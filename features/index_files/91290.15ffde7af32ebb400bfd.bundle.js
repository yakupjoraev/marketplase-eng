(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[91290],{94297:function(e,t,n){"use strict";n.d(t,{z:function(){return r},u:function(){return s}});var r,a=n(92137),i=n(6610),u=n(5991),o=n(87757),c=n.n(o);n(66992),n(51532),n(41539),n(78783),n(33948);!function(e){e.BellRing="bell_ring",e.MetalPlate="metal_plate",e.TinyButton="button_tiny"}(r||(r={}));var s=new(function(){function e(){(0,i.Z)(this,e)}return(0,u.Z)(e,[{key:"_initialize",value:function(){this._sounds||(this._sounds=new Map([[r.BellRing,new Audio(n(33413))],[r.MetalPlate,new Audio(n(9813))],[r.TinyButton,new Audio(n(87565))]]))}},{key:"playSound",value:function(){var e=(0,a.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._initialize(),e.prev=1,e.next=4,this._sounds.get(t).play();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())},99540:function(e,t,n){"use strict";n.d(t,{IF:function(){return f},$U:function(){return m},kW:function(){return h},ei:function(){return k},dm:function(){return g},hf:function(){return y},C9:function(){return p},gq:function(){return v}});n(12419);var r,a=n(6610),i=n(5991),u=n(10379),o=n(46070),c=n(77608);!function(e){e.CmCloseMainWindow="cm-close-window",e.CmMinizeMainWindow="cm-minimize-window",e.CmToggleMaximizeWindow="cm-toggle-maximize-window",e.CmCloseAndUpdate="cm-close-and-update",e.CmGetAppState="cm-get-app-state",e.CmSetAppState="cm-set-app-state",e.CmGetAppVersion="cm-get-app-version",e.CmFocusApp="cm-focus-app",e.CmFlashFrame="cm-flash-frame",e.CmReadProcesses="cm-read-processes"}(r||(r={}));var s=n(9123);function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var d=window.electron,f=new(function(e){(0,u.Z)(n,e);var t=l(n);function n(){var e;if((0,a.Z)(this,n),e=t.call(this),d){var i,u=function(t){e._state=t,e._scope.applyAsync()};null===(i=d.onStateUpdate)||void 0===i||i.call(d,u),d.invokeFromRender(r.CmGetAppState).then(u),d.invokeFromRender(r.CmGetAppVersion).then((function(t){e._appVersion=t,e._scope.applyAsync()}))}return e}return(0,i.Z)(n,[{key:"state",value:function(){return this._state}},{key:"stateLoaded",value:function(){return!!this._state}},{key:"isMaximized",value:function(){var e;return null===(e=this._state)||void 0===e?void 0:e.Maximized}},{key:"updateAvailable",value:function(){var e;return null===(e=this._state)||void 0===e?void 0:e.UpdateAvailable}},{key:"appVersion",value:function(){return this._appVersion}}]),n}(s.b)),p=function(e){return null===d||void 0===d?void 0:d.invokeFromRender(r.CmSetAppState,e)},h=function(){return d.invokeFromRender(r.CmCloseAndUpdate)},m=function(){return d.invokeFromRender(r.CmCloseMainWindow)},v=function(){p({Maximized:!f.isMaximized()})},y=function(){return d.invokeFromRender(r.CmMinizeMainWindow)},g=function(){return d.invokeFromRender(r.CmFocusApp)},k=function(){return d.invokeFromRender(r.CmFlashFrame)}},91290:function(e,t,n){"use strict";n.d(t,{x:function(){return I},G:function(){return Q}});n(47941),n(82526),n(38880),n(54747),n(49337);var r=n(96156),a=n(92137),i=n(6610),u=n(5991),o=(n(66992),n(41539),n(88674),n(78783),n(33948),n(39714),n(26699),n(32023),n(69826),n(74916),n(64765),n(57327),n(87757)),c=n.n(o),s=n(91264),l=n(24384),d=n(87051),f=n(82152),p=n(1645),h=n(18860),m=n(99576),v=n(59111),y=n(39743),g=n(20555),k=n(39840),b=n(46532),w=n(69747),_=n(10648),M=n(66012),A=n(71578),Z=n(16106),x=n(56367),R=n(79268),C=n(20048),O=n(10898),P=n(74425),B=n(25680),S=n(2311),q=n(25357);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=new(function(){function e(){(0,i.Z)(this,e)}return(0,u.Z)(e,[{key:"spawnAddAvatarModal",value:function(e,t,r){var i=this;if(!w._.isAuthenticated())return b.cmAccount.spawnLogInOrRegisterModal();var u=null===r||void 0===r?void 0:r.onAddAvatarSuccess;l.J.trackEvent({category:_.P.AddGame,name:"Open modal",label:k.c.getName(s.CY.GameBrand,e).toUpperCase()});var o={gameBrand:e},M=function(){var t=(0,a.Z)(c().mark((function t(n,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.Z.to(r).query("name",n).call({useGlobalErrorHandling:!1});case 2:null===u||void 0===u||u(e);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();switch(e){case s.CY.GameBrand.Lol:case s.CY.GameBrand.Tft:return d.aW.getRiotService(e).spawnAddSummonerModal(t,r);case s.CY.GameBrand.Csgo:case s.CY.GameBrand.Battlerite:case s.CY.GameBrand.Dota:return y.tE.open({id:y.qq.Steam_AddAvatar,component:n.e(59578).then(n.bind(n,59578)),params:{gameBrand:e,onAddAvatarSuccess:u}});case s.CY.GameBrand.RocketLeague:return this.spawnGenericAddAvatarModal(E(E({},o),{},{onAddAvatar:function(e){return M(e,"/api/rocketleague/accountlink/soft_link")}}));case s.CY.GameBrand.RainbowSix:return this.spawnGenericAddAvatarModal(E(E({},o),{},{onAddAvatar:function(e){return M(e,"/api/rainbowsix/link/soft_link")}}));case s.CY.GameBrand.Fifa:return f.M.spawnAddFifa19AvatarModal(r);case s.CY.GameBrand.GodsofBoom:return p.N.spawnAddAvatarModal(r);case s.CY.GameBrand.Pubg:return h.A.spawnAddAvatarModal(r);case s.CY.GameBrand.Smite:return m.R.spawnAddAvatarModal(r);case s.CY.GameBrand.Paladins:return v.z.spawnAddAvatarModal(r);case s.CY.GameBrand.Overwatch:return this.spawnGenericAddAvatarModal(E(E({},o),{},{onAddAvatar:function(e){return M(e,"/api/overwatch/avatar/soft_link")},rules:[{pattern:/.+#\d+/,message:"Please include your full BattleTag (#...)"}],helpCenterHref:null}));case s.CY.GameBrand.Valorant:return this.spawnGenericAddAvatarModal(E(E({},o),{},{onAddAvatar:function(e){return M(e,"/api/valorant/accountlink/soft_link")},rules:[{pattern:/.+#.+/,message:"Please include your tagline (#...)"}],helpCenterHref:"https://help.challengermode.com/en/articles/4047597-connect-your-valorant-game-account"}));case s.CY.GameBrand.Hearthstone:return this.spawnGenericAddAvatarModal(E(E({},o),{},{onAddAvatar:function(e){return M(e,"/api/hearthstone/avatar/soft_link")},rules:[{pattern:/.+#\d+/,message:"Please include your full BattleTag (#...)"}],helpCenterHref:null}));default:return this.spawnGenericAddAvatarModal(E(E({},o),{},{onAddAvatar:function(){var t=(0,a.Z)(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.addDefaultAvatar(e,(0,q.kH)(e,0),n);case 2:null===u||void 0===u||u(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))}}},{key:"spawnEditAvatarModal",value:function(e){if(!w._.isAuthenticated())return b.cmAccount.spawnLogInOrRegisterModal();switch(e){case s.CY.GameBrand.Lol:case s.CY.GameBrand.Tft:return d.aW.getRiotService(e).spawnShowSummonersModal();case s.CY.GameBrand.Fifa:return f.M.spawnAddFifa19AvatarModal();default:return y.tE.open({id:y.qq.Avatar_Edit,component:Promise.all([n.e(39809),n.e(11092)]).then(n.bind(n,32022)),params:{gameBrand:e}})}}},{key:"spawnGenericAddAvatarModal",value:function(e){y.tE.open({id:y.qq.Add_Avatar,component:Promise.all([n.e(84992),n.e(52393),n.e(24901)]).then(n.bind(n,24901)),params:e,ignoreBackdrop:!0})}},{key:"addDefaultAvatar",value:function(e,t,n){return g.Z.to("/api/DefaultGame/AccountLink/soft_link").query("gameBrand",e.toString()).query("gameRealm",t.toString()).query("ingameName",n).call()}}]),e}());function Q(){var e=(0,x.mY)(["matchmaking"]).t,t=(0,M.FY)(P.K,(function(){return{ladderGames:P.K.launchedGameBrands(null,[s.Sf.Permission.Ladder_Feature]),matchmakingGames:P.K.launchedGameBrands(null,[s.Sf.Permission.Matchmaking_Feature])}})),n=(0,M.Lx)((function(e){return new B.z(e)}),(function(e){return{search:function(t,n){return e.setFilters({OrderType:s.Bz.BindingModels.OrderType.Popularity,AllowedRanks:[n],GameBrands:[t],State:B.V.Ongoing,PageId:w._.isDebug()?null:"a9643ad4-5029-4c8c-98b2-c10b8ea701c2",MinLength:168})}}})),r=(0,C.W)(s.CY.Util.StaticId,(function(e){return e.availableQueues()}));return function(){var i=(0,a.Z)(c().mark((function a(i){var u,o,l,f,p,h=arguments;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u=h.length>1&&void 0!==h[1]?h[1]:(0,q.kH)(i,0),!t.ladderGames.includes(i)){a.next=12;break}return a.next=4,(0,Z.K)(O.cmOwnUser.voidObservable(),(function(){return O.cmOwnUser.avatars().some((function(e){return e.GameBrand===i}))}));case 4:return o=O.cmOwnUser.user().primaryAvatars().find((function(e){return e.GameRealm===u})),l=d.aW.avatarRank(o),a.next=8,n.search(i,l);case 8:if(f=a.sent,(0,A.tQ)(f)){a.next=12;break}return(0,S.Cv)({ladderId:f[0],inOnboarding:!0}),a.abrupt("return");case 12:if(!t.matchmakingGames.includes(i)){a.next=17;break}if(p=r.filter((function(e){return e.GameRealm===u&&e.MatchQueueVisibility===s.PI.MatchQueueVisibility.Public&&e.Open&&1===e.TeamSize})),(0,A.tQ)(p)){a.next=17;break}return R.sZ.spawnQueueCardsModal({queues:p,heading:e("matchmaking.onboarding.heading"),description:e("matchmaking.onboarding.description"),flow:R.Q.Onboarding}),a.abrupt("return");case 17:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()}},75420:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});n(12419);var r=n(6610),a=n(5991),i=n(10379),u=n(46070),o=n(77608);n(74916),n(64765);function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var s=function(e){(0,i.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"setFilters",value:function(e,t){return this._init(),e.GameBrands&&this._searchModel.gameBrands(e.GameBrands),e.PageId&&this._searchModel.pageId(e.PageId),e.AllowedRanks&&this._searchModel.allowedRanks(e.AllowedRanks),e.MinLength&&this._searchModel.minLength(e.MinLength),e.MaxLength&&this._searchModel.maxLength(e.MaxLength),t(),this._ids=[],this._loaded=!1,this._count=0,this._scope.applyAsync(),this.search()}}]),n}(n(80047).b)},96286:function(e,t,n){"use strict";n.d(t,{OJ:function(){return d},yi:function(){return f},iw:function(){return p}});n(12419);var r=n(6610),a=n(5991),i=n(10379),u=n(46070),o=n(77608),c=(n(2707),n(71578)),s=n(2016);function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var d={Skip:0,Take:20,Count:!1,GameBrands:[],PageId:null,MinLengthHours:1,MaxLengthHours:740,AllowedRanks:[],OrderDescending:!0},f=function(e){function t(e){return(0,c.eE)(e).sort()}e.GameBrands=t(e.GameBrands),e.AllowedRanks=t(e.AllowedRanks)},p=function(e){(0,i.Z)(n,e);var t=l(n);function n(e,a){var i;return(0,r.Z)(this,n),(i=t.call(this,e))._overrideMetaclass=a,i}return(0,a.Z)(n,[{key:"_metaclass",value:function(){return this._overrideMetaclass}},{key:"gameBrands",value:function(e){return this._set((function(t){return t.GameBrands=e}))}},{key:"pageId",value:function(e){return this._set((function(t){return t.PageId=e}))}},{key:"allowedRanks",value:function(e){return this._set((function(t){return t.AllowedRanks=e}))}},{key:"minLength",value:function(e){return this._set((function(t){return t.MinLengthHours=e}))}},{key:"maxLength",value:function(e){return this._set((function(t){return t.MaxLengthHours=e}))}}]),n}(s.I)},25680:function(e,t,n){"use strict";n.d(t,{V:function(){return r},z:function(){return v}});n(12419);var r,a=n(6610),i=n(5991),u=n(63349),o=n(10379),c=n(46070),s=n(66213),l=n(77608),d=n(71578),f=n(91264),p=n(75420),h=n(25953);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}!function(e){e.Upcoming="upcoming",e.Ongoing="ongoing",e.Past="past"}(r||(r={}));var v=function(e){(0,o.Z)(n,e);var t=m(n);function n(){var e,i;return(0,a.Z)(this,n),(i=t.apply(this,arguments)).setFilters=function(t){return(0,s.Z)((e=(0,u.Z)(i),(0,l.Z)(n.prototype)),"setFilters",e).call(e,t,(function(){if((0,d.Q8)(t.OrderType)||i._searchModel.orderType(t.OrderType),t.MaximumJoiningDate&&i._searchModel.maximumJoiningDate(t.MaximumJoiningDate),!(0,d.tQ)(t.State)){var e;switch(t.State){case r.Upcoming:e=[f.Bz.LadderState.Lobby,f.Bz.LadderState.New];break;case r.Ongoing:e=[f.Bz.LadderState.Running];break;case r.Past:e=[f.Bz.LadderState.Redeemed,f.Bz.LadderState.Resolved,f.Bz.LadderState.Resolving,f.Bz.LadderState.Cancelling,f.Bz.LadderState.Cancelled]}i._searchModel.states(e)}}))},i}return(0,i.Z)(n,[{key:"_init",value:function(){this._searchModel&&this._searchModel.dispose(),this._searchModel=new h.m(this._searchScope)}}]),n}(p._)},25953:function(e,t,n){"use strict";n.d(t,{m:function(){return g}});n(12419),n(47941),n(82526),n(57327),n(38880),n(54747),n(49337);var r=n(96156),a=n(6610),i=n(5991),u=n(10379),o=n(46070),c=n(77608),s=(n(2707),n(91264)),l=n(96286),d=n(71578),f=n(2016),p=n(79075);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var a=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var y=new(function(e){(0,u.Z)(n,e);var t=v(n);function n(){var e;return(0,a.Z)(this,n),(e=t.apply(this,arguments)).prepareModel=function(e){var t;(0,l.yi)(e),e.States=(t=e.States,(0,d.eE)(t).sort())},e}return(0,i.Z)(n,[{key:"defaultBindingModel",value:function(){return m(m({},l.OJ),{},{States:[],OrderType:s.Bz.BindingModels.OrderType.Popularity,MaximumJoiningDate:null,TemplateId:null,UserId:null})}},{key:"url",value:function(){return"/api/ladder/search/ladder"}}]),n}(f.j)),g=function(e){(0,u.Z)(n,e);var t=v(n);function n(e){return(0,a.Z)(this,n),t.call(this,e,y)}return(0,i.Z)(n,[{key:"orderType",value:function(e){return this._set((function(t){return t.OrderType=e}))}},{key:"states",value:function(e){return this._set((function(t){return t.States=e}))}},{key:"maximumJoiningDate",value:function(e){return this._set((function(t){return t.MaximumJoiningDate=e}))}},{key:"open",value:function(){return this._set((function(e){return e.States=[s.Bz.LadderState.Running]}))._set((function(e){return e.MaximumJoiningDate=p.Z8.formInputToServer((0,p.cb)(new Date,{minutes:1}))}))}},{key:"userId",value:function(e){return this._set((function(t){return t.UserId=e}))}}]),n}(l.iw)},79268:function(e,t,n){"use strict";n.d(t,{EV:function(){return r},Q:function(){return a},sZ:function(){return O}});n(12419),n(47042),n(91038),n(82526),n(41817),n(32165);var r,a,i,u=n(92137),o=n(6610),c=n(5991),s=n(10379),l=n(46070),d=n(77608),f=n(87757),p=n.n(f),h=(n(66992),n(41539),n(88674),n(78783),n(33948),n(39714),n(69826),n(40175)),m=n(20555),v=n(91264),y=n(71578),g=n(39743),k=n(24384),b=n(94297),w=n(9123),_=n(10648),M=n(35856),A=n(69747),Z=n(59030);function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){o=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(o)throw i}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var a=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}!function(e){e[e.CanActOn=0]="CanActOn",e[e.Active=1]="Active"}(r||(r={})),function(e){e[e.Join=0]="Join",e[e.Rejoin=1]="Rejoin",e[e.Onboarding=2]="Onboarding"}(a||(a={})),function(e){e[e.NoMatch=0]="NoMatch",e[e.FoundMatch=1]="FoundMatch",e[e.DeadlineWarning=2]="DeadlineWarning"}(i||(i={}));var O=new(function(e){(0,s.Z)(l,e);var t=C(l);function l(){var e;return(0,o.Z)(this,l),(e=t.call(this))._matchmakingState=i.NoMatch,e.spawnMatchModal=function(e){g.tE.open({id:g.qq.Matchmaking_Match,component:n.e(40994).then(n.bind(n,40994)),params:e})},e.spawnQueueEntryModal=function(e){g.tE.open({id:g.qq.Matchmaking_QueueEntry,component:n.e(91683).then(n.bind(n,91683)),params:e})},e.spawnQueueModal=function(e){g.tE.open({id:g.qq.Matchmaking_Queue,component:Promise.all([n.e(50924),n.e(47901)]).then(n.bind(n,56330)),params:e})},e.spawnQueueCardsModal=function(e){g.tE.open({id:g.qq.Matchmaking_QueueCards,component:Promise.all([n.e(50924),n.e(51882)]).then(n.bind(n,37671)),params:e})},e.spawnCreateQueueModal=function(e){g.tE.open({id:g.qq.Matchmaking_CreateQueue,component:Promise.all([n.e(64749),n.e(62773),n.e(84992),n.e(71752),n.e(7237),n.e(98600),n.e(15725),n.e(15),n.e(47950),n.e(50551),n.e(9359),n.e(6385),n.e(17337)]).then(n.bind(n,38644)),params:e})},e.spawnEditQueueModal=function(e){g.tE.open({id:g.qq.Matchmaking_EditQueue,component:Promise.all([n.e(64749),n.e(88906),n.e(30206),n.e(84992),n.e(71752),n.e(7237),n.e(15725),n.e(54848),n.e(12753),n.e(6385),n.e(80370)]).then(n.bind(n,25646)),params:e})},e._mmStartAdapter=new h.Q(e._scope).initByOwnUserId(v.oy.Matchmaking.Poll2Constants.StartView),e._activeQueueEntriesProxy=new M.n(e._scope,(function(){return e.loaded()}),v.oy.Matchmaking.Poll2Constants.QueueEntry,(function(){return e.data().ActiveQueueEntryIds})),e._mmStartAdapter.addDataCallback((function(t){if(!(0,y.tQ)(t.CanActOnMatchIds)&&e._matchmakingState===i.NoMatch){Z.W.notify({id:t.CanActOnMatchIds[0],title:"A matchmaking game has been found!",date:(new Date).toString()}),Z.W.canNotify()||b.u.playSound(b.z.BellRing),e._matchmakingState=i.FoundMatch;var n,a=x(t.CanActOnMatchIds);try{for(a.s();!(n=a.n()).done;){var u=n.value;e.spawnMatchModal({matchId:u,state:r.CanActOn})}}catch(o){a.e(o)}finally{a.f()}}(0,y.tQ)(t.CanActOnMatchIds)&&(e._matchmakingState=i.NoMatch),e._activeQueueEntriesProxy.update()})),e}return(0,c.Z)(l,[{key:"playDeadlineWarningSound",value:function(){var e;(0,y.tQ)(null===(e=this.data())||void 0===e?void 0:e.CanActOnMatchIds)||this._matchmakingState!==i.FoundMatch||(this._matchmakingState=i.DeadlineWarning,b.u.playSound(b.z.MetalPlate))}},{key:"data",value:function(){return this._mmStartAdapter.data()}},{key:"loaded",value:function(){return this._mmStartAdapter.isLoaded()}},{key:"isActivitiesEmpty",value:function(){var e=this.data();return!A._.isAuthenticated()||!this.loaded()||(0,y.tQ)(null===e||void 0===e?void 0:e.ActiveQueueEntryIds)&&(0,y.tQ)(null===e||void 0===e?void 0:e.ActiveMatchIds)&&(0,y.tQ)(null===e||void 0===e?void 0:e.CanActOnMatchIds)}},{key:"queueEntry",value:function(e){return this._activeQueueEntriesProxy.objects().find((function(t){return t.MatchQueueId===e}))}},{key:"join",value:function(){var e=(0,u.Z)(p().mark((function e(t){var n,r,i,u,o=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(o.length>1&&void 0!==o[1])||o[1],r=o.length>2?o[2]:void 0,e.next=4,m.Z.to("/api/matchmaking/queue/join").query("queueId",t).query("solo",n.toString()).call();case 4:i=e.sent,Z.W.requestPermission(),u="Join",e.t0=r,e.next=e.t0===a.Rejoin?10:e.t0===a.Onboarding?12:14;break;case 10:return u="Rejoin",e.abrupt("break",14);case 12:return u="Onboarding",e.abrupt("break",14);case 14:return k.J.trackEvent({category:_.P.Matchmaking,name:"".concat(u," queue"),id:t}),e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=(0,u.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.to("/api/matchmaking/queue/leave").query("queueEntryId",t).call();case 2:k.J.trackEvent({category:_.P.Matchmaking,name:"Leave queue",id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"accept",value:function(){var e=(0,u.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.to("/api/matchmaking/match/accept").query("matchId",t).call();case 2:k.J.trackEvent({category:_.P.Matchmaking,name:"Accept match",id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"reject",value:function(){var e=(0,u.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.to("/api/matchmaking/match/reject").query("matchId",t).call();case 2:k.J.trackEvent({category:_.P.Matchmaking,name:"Reject match",id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,u.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.to("/api/matchmaking/queueadmin/create").body(t).call({successMessage:"The matchmaking queue was successfully created."});case 2:k.J.trackEvent({category:_.P.Matchmaking,name:"Create matchmaking queue"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"edit",value:function(e){return m.Z.to("/api/matchmaking/queueadmin/edit").body(e).call({successMessage:"The matchmaking queue was successfully edited.",trackEvent:{category:_.P.Matchmaking,name:"Edit matchmaking queue",id:e.Id}})}},{key:"open",value:function(){var e=(0,u.Z)(p().mark((function e(t,n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.to("/api/matchmaking/queueadmin/open").query("queueId",t).query("visibility",n.toString()).call({successMessage:"The matchmaking queue was successfully opened."});case 2:k.J.trackEvent({category:_.P.Matchmaking,name:"Open matchmaking queue",id:t});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,u.Z)(p().mark((function e(t,n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.to("/api/matchmaking/queueadmin/close").query("queueId",t).query("visibility",n.toString()).call({successMessage:"The matchmaking queue was successfully closed."});case 2:k.J.trackEvent({category:_.P.Matchmaking,name:"Close matchmaking queue",id:t});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),l}(w.b))},20048:function(e,t,n){"use strict";n.d(t,{W:function(){return y}});n(12419);var r=n(6610),a=n(5991),i=n(10379),u=n(46070),o=n(77608),c=(n(57327),n(21249),n(91264)),s=n(71578),l=n(10898),d=n(5535),f=n(66012),p=n(35856),h=n(87051);function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var v=function(e){(0,i.Z)(n,e);var t=m(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this,null,c.oy.Matchmaking.Poll2Constants.Static))._scope.subscribeVoid(l.cmOwnUser),e._availableQueuesProxy=new p.n(e._scope,(function(){return e.loaded()}),c.oy.Matchmaking.Poll2Constants.Queue,(function(){return e.data().AvailableQueueIds})),e}return(0,a.Z)(n,[{key:"queues",value:function(e,t){return this.availableQueues().filter((function(n){return h.aW.gameBrand(n.GameRealm)===e&&n.MatchQueueVisibility===t}))}},{key:"availableQueues",value:function(){return this._availableQueuesProxy.objects()}},{key:"gameRealmsForGameBrand",value:function(e){return(0,s.eE)(this.queues(e,c.PI.MatchQueueVisibility.Public).map((function(e){return e.GameRealm})))}},{key:"queuesByGameRealm",value:function(e,t){return this.queues(e,c.PI.MatchQueueVisibility.Public).filter((function(e){return e.GameRealm===t}))}},{key:"hasAvatarForQueue",value:function(e){return e&&!!l.cmOwnUser.user().primaryAvatarId(e.GameRealm)}}]),n}(d.g);function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,f.$$)(e,c.oy.Matchmaking.Poll2Constants.Static,v,t,n)}},80047:function(e,t,n){"use strict";n.d(t,{b:function(){return l}});var r=n(85061),a=n(92137),i=n(6610),u=n(5991),o=n(87757),c=n.n(o),s=(n(57327),n(47941),n(74916),n(64765),n(21910)),l=function(){function e(t){var n=this;(0,i.Z)(this,e),this._scope=t,this._searchScope=new s.X,this._skip=0,this._take=20,this._page=0,this._ids=[],this._loaded=!1,this.filter=function(){var e=(0,a.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._ids=[],n._loaded=!1,n._count=0,n._scope.applyAsync(),n._searchModel.set((function(e){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];e[a]=t[a]}})),e.abrupt("return",n.search(0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.search=(0,a.Z)(c().mark((function e(){var t,r,a,i,u,o,s,l,d=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:0,r=d.length>1&&void 0!==d[1]?d[1]:20,a=d.length>2&&void 0!==d[2]&&d[2],(i=Math.floor(t/r))!==n._page||0===t){e.next=6;break}return e.abrupt("return",[]);case 6:return a&&n._searchModel.noCache(),n._page=i,n._skip=i*r,n._take=r,e.next=12,n._searchModel.count(!0).skip(n._skip).take(n._take).initAsync();case 12:if(u=e.sent,!((o=u.Ids).length>0)){e.next=24;break}s=n._skip;case 16:if(!(s<n._skip+n._take)){e.next=24;break}if(l=o[s-n._skip]){e.next=20;break}return e.abrupt("continue",21);case 20:n._ids[s]=l;case 21:++s,e.next=16;break;case 24:return n._count=u.Count,n._loaded=!0,n._scope.applyAsync(),e.abrupt("return",n._ids);case 28:case"end":return e.stop()}}),e)}))),this._scope.onDestroy((function(){return n._searchScope.destroy()})),this._init(),this._searchModel.noSearchOnModelSet(),this._searchModel.noRefresh()}return(0,u.Z)(e,[{key:"take",value:function(){return this._take}},{key:"skip",value:function(){return this._skip}},{key:"count",value:function(){return this._count}},{key:"pageNumber",value:function(){return this._page}},{key:"ids",value:function(){return(0,r.Z)(this._ids)}},{key:"loaded",value:function(){return this._loaded}}]),e}()},59030:function(e,t,n){"use strict";n.d(t,{W:function(){return y}});var r=n(92137),a=n(6610),i=n(5991),u=n(87757),o=n.n(u),c=(n(66992),n(41539),n(70189),n(78783),n(33948),n(88674),n(12419),n(10379)),s=n(46070),l=n(77608),d=n(98145);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var p=new(function(e){(0,c.Z)(n,e);var t=f(n);function n(){var e,r,i;(0,a.Z)(this,n),(e=t.call(this))._focused=!1,"undefined"!==typeof document.hidden?(r="hidden",i="visibilitychange"):"undefined"!==typeof document.msHidden?(r="msHidden",i="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(r="webkitHidden",i="webkitvisibilitychange"),d.cmBrowsingContext.listen((function(t,n){t===d.BrowsingContextMessageType.WindowVisible&&e._focused!==n&&(e._focused=n,e._scope.applyAsync())}));var u=function(){var t=!0;document[r]&&(t=!1),e._focused!==t&&(e._focused=t,d.cmBrowsingContext.post(d.BrowsingContextMessageType.WindowVisible,t),e._scope.applyAsync())};return document.addEventListener(i,u,!1),u(),e}return(0,i.Z)(n,[{key:"inFocus",value:function(){return this._focused}}]),n}(n(9123).b)),h=n(94297),m=n(97877),v=n(99540),y=new(function(){function e(){var t=this;(0,a.Z)(this,e),this._notified=new Set,this.requestPermission=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.supportsNotifications()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if("granted"!==t._permission){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:if(!t._permissionPromise){e.next=6;break}return e.abrupt("return",t._permissionPromise);case 6:return t._permissionPromise=Notification.requestPermission(),t._permissionPromise.then((function(e){t._permission=e,t._permission=t._permissionPromise=void 0})),e.abrupt("return",t._permissionPromise);case 9:case"end":return e.stop()}}),e)}))),this.supportsNotifications()&&(this._permission=Notification.permission)}return(0,i.Z)(e,[{key:"canNotify",value:function(){return"granted"===this._permission}},{key:"notify",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],!this._notified.has(t.id)){e.next=3;break}return e.abrupt("return");case 3:if(m.z.isElectron()&&(h.u.playSound(h.z.TinyButton),(0,v.ei)()),this._notified.add(t.id),!this.canNotify()){e.next=9;break}this._tryNotify(t,n),e.next=12;break;case 9:return e.next=11,this.requestPermission();case 11:this._tryNotify(t,n);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_tryNotify",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],this.supportsNotifications()&&!p.inFocus()||n){e.next=3;break}return e.abrupt("return");case 3:r="https://challengermode-permanent-assets.azureedge.net/app/2021-07-16/icon-512x512.png";try{(a=new Notification(t.title,{tag:t.id,badge:r,icon:r,body:t.body,timestamp:Date.parse(t.date),silent:!0})).onclick=function(){var e;null===(e=t.onClick)||void 0===e||e.call(t)},a.onclose=function(){var e;null===(e=t.onClose)||void 0===e||e.call(t)},a.onshow=function(){var e;null===(e=t.onShow)||void 0===e||e.call(t)}}catch(u){}case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"supportsNotifications",value:function(){return"Notification"in window}}]),e}())},33413:function(e,t,n){e.exports=n.p+"Content/sounds/4c424c00b90ccae48d88488f92147db0.mp3"},87565:function(e,t,n){e.exports=n.p+"Content/sounds/ca3856e41b7ce870071c79dc1e6d91a5.mp3"},9813:function(e,t,n){e.exports=n.p+"Content/sounds/8140e886441c0942db00814a423665dd.mp3"}}]);