"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[65929],{39397:function(e,n,t){t.d(n,{o:function(){return i}});t(19601);var r=t(67294),a=t(52513),o=t(28791),i=r.memo((function(e){var n={marginHorizontal:a.Bq.Auto,paddingHorizontal:{Default:a.qz.Medium,Tablet:a.qz.Base},className:"cm--arena-wrap-width"};return e.stretch?r.createElement(o.sf,Object.assign({},n,{alignItems:o.W6.Stretch}),r.createElement(o.sf,{width:a.Q2._100},e.children)):r.createElement(a.bZ,Object.assign({},n),e.children)}))},45079:function(e,n,t){t.d(n,{k:function(){return o}});var r=t(6610),a=t(5991),o=(t(26699),t(32023),function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"_hasAccess",value:function(e,n,t){return n.some((function(n){return e.may(n)||(null===t||void 0===t?void 0:t.includes(n))}))}}]),e}())},67616:function(e,n,t){var r;t.d(n,{$:function(){return r}}),function(e){e.Gray="cm-badge--gray",e.Skeleton="cm-badge--skeleton",e.Purple="cm-badge--purple",e.Captain="cm-badge--purple",e.Info="cm-badge--info",e.Danger="cm-badge--danger",e.Warning="cm-badge--warning",e.Success="cm-badge--success",e.CmAdmin="cm-badge--cm-admin",e.CmModerator="cm-badge--cm-moderator",e.CmEmployee="cm-badge--cm-employee",e.CmCaster="cm-badge--cm-caster",e.Admin="cm-badge--admin",e.Moderator="cm-badge--moderator",e.Caster="cm-badge--caster",e.Subscriber="cm-badge--subscriber",e.Unranked="cm--badge-tier-0",e.Tier1="cm--badge-tier-1",e.Tier2="cm--badge-tier-2",e.Tier3="cm--badge-tier-3",e.Tier4="cm--badge-tier-4",e.Tier5="cm--badge-tier-5",e.Tier6="cm--badge-tier-6",e.Tier7="cm--badge-tier-7",e.Tier8="cm--badge-tier-8",e.Tier9="cm--badge-tier-9"}(r||(r={}))},33497:function(e,n,t){t.d(n,{s:function(){return d}});var r=t(67294),a=t(90278),o=t(28791),i=t(52513),u=t(11042),s=t(65647),l=t(70807);function c(e){var n=!e.noBorder&&!e.backgroundBrand,t=!!e.onClick||!!e.toView||!!e.href,c=r.useMemo((function(){return{size:e.size,enableTooltip:!!e.tooltip,tooltipPlacement:e.tooltipPlacement,tooltipDisableOnTablet:e.tooltipDisableOnTablet}}),[e]),d=r.createElement(i.bZ,{position:i.rl.Centering,background:e.backgroundBrand,hoverBackground:e.hoverBackgroundBrand||(t?i.BQ.Shadow:null)},r.createElement(o.sf,{flex:o.Gr.None,alignItems:o.W6.Center,justifyContent:o.sM.Center,position:i.rl.Centering},r.createElement(u.F2,{type:e.iconType,theme:e.iconTheme,brand:e.iconBrand||(e.iconBrand||e.linkBrand?null:s.Z7.WhiteDark),size:e.iconSize,spin:e.iconSpin})));return r.createElement(a.s,{baseProps:c,loaded:!0,href:null,src:null,tooltip:e.tooltip,borderStyle:n?i.Nj.Dashed:null,borderBrand:n?e.borderBrand||i.JD.GrayLight:null,alt:"",borderRadius:e.borderRadius,boxShadow:e.boxShadow||(n?i.WC.None:null)},t?r.createElement(l.R,{onClick:e.onClick,toView:e.toView,href:e.href,brand:e.linkBrand,centering:!0},d):d)}var d=r.memo(c)},91938:function(e,n,t){t.d(n,{B:function(){return d}});t(19601);var r=t(67294),a=t(28791),o=t(54543),i=t(63945),u=t(71447),s=t(9144),l=t(75026);function c(e){var n;return e.contextMenuItem?r.createElement(l.E,Object.assign({},e.contextMenuItemProps,{iconType:e.iconType,text:e.text,onClick:e.onClick,onLoadClick:e.onLoadClick,href:e.href,target:e.target,disabled:e.disabled})):r.createElement(s.mV,{text:e.tooltip,display:null!==(n=e.buttonProps)&&void 0!==n&&n.block?a.Z.Block:null},e.onLoadClick?r.createElement(u.T,Object.assign({},e.buttonProps,{disabled:e.disabled,onClick:e.onLoadClick,text:e.text})):e.href?r.createElement(i.T,Object.assign({},e.buttonProps,{disabled:e.disabled,href:e.href,target:e.target,text:e.text})):r.createElement(o.X,Object.assign({},e.buttonProps,{disabled:e.disabled,onClick:e.onClick,text:e.text})))}var d=r.memo(c)},20622:function(e,n,t){t.d(n,{k:function(){return i}});var r=t(67294),a=t(52513),o=t(9096),i=function(e){return r.createElement(a.bZ,{background:o.iM.GrayDark,borderRadius:a.sW.Base,boxShadow:a.WC.Sharp,paddingHorizontal:a.qz.Small,overflow:a.rY.Hidden},e.children)}},75026:function(e,n,t){t.d(n,{d:function(){return v},E:function(){return y}});t(82526),t(41817);var r=t(67294),a=t(28791),o=t(11042),i=t(65647),u=t(70807),s=t(52513),l=t(26435),c=t(66012),d=t(4510),m=t(33497),f=t(9096),h=t(60185),v={Default:s.qz.Small,Tablet:s.qz.Base};function g(e){var n=(0,c.FY)(d.D,(function(){return d.D.isTablet()}));if((0,c.FY)(h.$,(function(){return{isViewActive:!!e.toView&&h.$.isViewActive(e.toView)}}),[e.toView]).isViewActive)return null;var t=null;if(n)t={fontSize:i.ki.Medium,iconSize:o.Tg.Medium,descriptionFontSize:i.ki.Small,paddingVertical:s.kh.Small,borderRadius:s.sW.Base};else switch(e.size){case l.T.Small:t={fontSize:i.ki.Small,iconSize:o.Tg.Small,descriptionFontSize:i.ki.XXSmall,paddingVertical:s.kh.Small,borderRadius:s.sW.Small};break;case l.T.Medium:t={fontSize:i.ki.Base,iconSize:o.Tg.Medium,descriptionFontSize:i.ki.Small,paddingVertical:s.kh.Small,borderRadius:s.sW.Base};break;case l.T.Large:t={fontSize:i.ki.Base,iconSize:o.Tg.Large,descriptionFontSize:i.ki.Small,paddingVertical:s.kh.Small,borderRadius:s.sW.Base};break;case l.T.Base:default:t={fontSize:i.ki.Base,iconSize:o.Tg.Base,descriptionFontSize:i.ki.XSmall,paddingVertical:s.kh.Small,borderRadius:s.sW.Base}}return r.createElement(u.R,{disabled:e.disabled,target:e.target,href:e.href,toView:e.toView,onClick:e.onClick,onLoadClick:e.onLoadClick,brand:e.active?u.B.TrueWhite:u.B.WhiteDark},r.createElement(a.sf,{gutter:{Default:a.Yz.Small,Tablet:a.Yz.Base},alignItems:a.W6.Center,paddingHorizontal:v,paddingVertical:t.paddingVertical,hoverBackground:e.active||e.disabled?null:s.BQ.Gray60,background:e.active&&!e.disabled?f.iM.Primary:null,borderRadius:t.borderRadius},!!e.iconType&&r.createElement(a.sf,{flex:a.Gr.None},e.size!==l.T.Large||n?r.createElement(o.F2,{type:e.iconType,size:t.iconSize,brand:e.noHover?i.Z7.White:null}):r.createElement(m.s,{iconType:e.iconType,iconSize:o.Tg.Medium,backgroundBrand:f.iM.Gray,borderBrand:s.JD.Transparent})),r.createElement(a.sf,{flex:a.Gr.Auto,display:a.Z.Block},r.createElement(i.Mo,{text:e.text,size:t.fontSize,fontWeight:i.Fh.Medium,brand:{Default:e.noHover?i.Z7.White:null,Tablet:e.disabled?i.Z7.WhiteDark:i.Z7.White},truncate:!0,block:!0}),!!e.description&&r.createElement(i.Mo,{text:e.description,size:t.descriptionFontSize,brand:{Default:e.noHover?i.Z7.WhiteDark:null,Tablet:e.disabled?i.Z7.GrayDark:i.Z7.WhiteDark},block:!0}))))}var y=r.memo(g)},26435:function(e,n,t){t.d(n,{T:function(){return r},N:function(){return y}});var r,a=t(28481),o=(t(66992),t(41539),t(88674),t(78783),t(33948),t(26699),t(32023),t(67294)),i=t(61555),u=t(66012),s=t(70375),l=t(11042),c=t(52513),d=t(70807),m=t(65647),f=t(4510),h=t(20622),v=t(28769);!function(e){e[e.Small=0]="Small",e[e.Base=1]="Base",e[e.Medium=2]="Medium",e[e.Large=3]="Large"}(r||(r={}));var g=o.lazy((function(){return t.e(50211).then(t.bind(t,50211))})),y=function(e){var n,t,y,p,b,T,k,_,S,w,I,C=o.useState(),R=(0,a.Z)(C,2),B=R[0],E=R[1],D=(0,u.FY)(f.D,(function(){return f.D.isTablet()})),P=null===(n=e.baseProps)||void 0===n||null===(t=n.trigger)||void 0===t?void 0:t.includes(s.mr.ContextMenu),F=function(){var n,t,r,a,u;return(null===(n=e.baseProps)||void 0===n?void 0:n.customTrigger)||o.createElement(d.R,{active:B,brand:(null===(t=e.baseProps)||void 0===t?void 0:t.iconLinkBrand)||d.B.WhiteDark,lineHeight:m.a5._0},o.createElement(c.bZ,{child:!B},o.createElement(l.F2,{type:(null===(r=e.baseProps)||void 0===r?void 0:r.iconType)||i.y.Ellipsis,theme:null===(a=e.baseProps)||void 0===a?void 0:a.iconTheme,size:null===(u=e.baseProps)||void 0===u?void 0:u.iconSize})))};return D&&P&&null!==(y=e.baseProps)&&void 0!==y&&y.customTrigger?o.createElement(o.Fragment,null,F()):D?o.createElement(o.Suspense,{fallback:null},o.createElement(g,{heading:e.heading,userId:e.userId,teamId:e.teamId,pageId:e.pageId,challengeId:e.challengeId,tournamentId:e.tournamentId,tournamentTeamId:e.tournamentTeamId,lobbyTeamId:e.lobbyTeamId,lobbyId:e.lobbyId,gameBrand:e.gameBrand,overlay:e.children},F())):o.createElement(s.Ik,{popupContainerClassName:null!==(p=e.baseProps)&&void 0!==p&&p.popupContainerClassName||P?v.H.ArenaLayout:void 0,visible:B,onVisibleChange:function(n){var t,r;E(n),null===(t=e.baseProps)||void 0===t||null===(r=t.onVisibleChange)||void 0===r||r.call(t,n)},placement:(null===(b=e.baseProps)||void 0===b?void 0:b.placement)||s.J5.BottomRight,trigger:(null===(T=e.baseProps)||void 0===T?void 0:T.trigger)||[s.mr.Click],overlay:o.createElement(c.bZ,{width:(null===(k=e.baseProps)||void 0===k?void 0:k.width)||function(){var n;switch(null===(n=e.baseProps)||void 0===n?void 0:n.size){case r.Small:return c.Q2._15rem;case r.Base:default:return c.Q2._20rem}}(),style:{marginTop:null===(_=e.baseProps)||void 0===_?void 0:_.offsetY,marginBottom:null===(S=e.baseProps)||void 0===S?void 0:S.offsetY,marginLeft:null===(w=e.baseProps)||void 0===w?void 0:w.offsetLeft,marginRight:null===(I=e.baseProps)||void 0===I?void 0:I.offsetRight}},o.createElement(h.k,null,e.children))},F())}},16106:function(e,n,t){t.d(n,{K:function(){return i}});var r=t(92137),a=t(87757),o=t.n(a);t(41539),t(88674);function i(e,n,t){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(o().mark((function e(n,t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var o=null,i=!1;o=n.subscribe({next:function(n){if(!i){var r=t(n);r&&(i=!0,e(r),o?o.unsubscribe():window.setTimeout((function(){return o.unsubscribe()}),0))}},complete:function(){return a("Observable completed before first object")}}),r&&r.onDestroy((function(){o.unsubscribe(),a("Scope destroyed before first object")}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},73713:function(e,n,t){t.d(n,{k:function(){return C},J:function(){return B}});t(12419),t(47042),t(91038),t(82526),t(41817),t(32165);var r=t(6610),a=t(5991),o=t(10379),i=t(46070),u=t(77608),s=(t(41539),t(39714),t(21249),t(92222),t(69826),t(66992),t(51532),t(78783),t(33948),t(54747),t(91264)),l=t(84694),c=t(86805),d=t(65732),m=t(52476),f=t(3557),h=t(69747),v=t(87051),g=t(61555),y=t(71578),p=t(66012),b=t(5535),T=t(70592),k=t(56367),_=t(10898);function S(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw o}}}}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function I(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.Z)(e);if(n){var a=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,i.Z)(this,t)}}var C=function(e){(0,o.Z)(t,e);var n=I(t);function t(e){var a;return(0,r.Z)(this,t),(a=n.call(this,e,s.oy.GameInfo.Poll2Constants.GameInfoDynamic)).defaultGameSettings=function(e,n){var t,r,o=null===(t=v.aW.getGameBrandService(a.gameBrand()))||void 0===t?void 0:t.defaultSettings(n);if(e&&(0,l.vF)(a.gameBrand())&&(o.Region=e-1e3),o)return o;var i=null===(r=a.data())||void 0===r?void 0:r.GameSettingsMetaData;return v.aW.serializeGameSettings(null===i||void 0===i?void 0:i.DefaultManualReportingGameSettings,null===i||void 0===i?void 0:i.DefaultSpecificGameSettings,null===i||void 0===i?void 0:i.SettingsMetaDataVersion,!1)},a._scope.subscribeVoid(m.Cu),a._scope.subscribeVoid(k.Yi),a._scope.subscribeVoid(_.cmOwnUser),a}return(0,a.Z)(t,[{key:"id",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.Id}},{key:"voidObservable",value:function(){return this._adapter.voidObservable()}},{key:"initBySlug",value:function(e){return this._adapter.initByUrn(new c.Urn(s.oy.GameInfo.Poll2Constants.GameInfoSlug,e)),this}},{key:"initByGameBrand",value:function(e){return!e&&h._.isProduction()&&(e=s.CY.GameBrand.Unknown),this._adapter.initByUrn(new c.Urn(s.oy.GameInfo.Poll2Constants.GameInfo,e.toString())),this}},{key:"imageUrl",value:function(e,n,t,r){return m.Cu.imageUrl(t,r,e,n)}},{key:"imageSrcSet",value:function(e,n){return m.Cu.getImageSrcSet(e,n)}},{key:"logoImageUrl",value:function(e,n){return m.Cu.imageUrl(f.O.Logo,e,null,n)}},{key:"teamSizeOptions",value:function(){var e=this;return this.teamSizes().map((function(n){return{num:n,name:e.isVersus()?"".concat(n,"v").concat(n):"".concat(n)}}))}},{key:"gameBrand",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.GameBrand}},{key:"slug",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.Slug}},{key:"title",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.Title}},{key:"shortTitle",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.ShortTitle}},{key:"playerRoles",value:function(){var e,n;return null!==(e=null===(n=this.data())||void 0===n?void 0:n.PlayerRoles)&&void 0!==e?e:[]}},{key:"featureEnabled",value:function(e){var n;return!(null===(n=this.gameFeatures().find((function(n){return n.Feature===e})))||void 0===n||!n.Active)}},{key:"isVersus",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.IsVersus}},{key:"teamSizes",value:function(){var e,n;return null!==(e=null===(n=this.data())||void 0===n?void 0:n.TeamSizes)&&void 0!==e?e:[]}},{key:"gameTagDescription",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.GameTagDescription}},{key:"arenaImageResources",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.ArenaImageResources}},{key:"arenaCustomResources",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.ArenaCustomResources}},{key:"gameSchemaData",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.SchemaData}},{key:"releaseState",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.GamePlayReleaseState}},{key:"avatarKeyMetaData",value:function(){var e;return null===(e=this.data())||void 0===e?void 0:e.AvatarKeyMetaData}},{key:"gameSettingsContainerColumns",value:function(e){var n,t,r,a,o;if(!e)return[];var i=null===(n=v.aW.getGameBrandService(this.gameBrand()))||void 0===n?void 0:n.gameSettingsContainerColumns(e);if(i)return i;var u=null===(t=this.data())||void 0===t||null===(r=t.GameSettingsMetaData)||void 0===r?void 0:r.GameSettingTitles;if((0,y.tQ)(u))return[];var s,l=null===(a=this.data())||void 0===a||null===(o=a.GameSettingsMetaData)||void 0===o?void 0:o.SchemaDataEnumValueTitles,c=[],d=S((0,y.cA)(e));try{var m=function(){var n,t,r=s.value,a=e[r],o=null!==(n=null===l||void 0===l||null===(t=l[r])||void 0===t?void 0:t[a])&&void 0!==n?n:a;(0,y.IZ)(o)&&(o=o.map((function(e){var n,t;return null!==(n=null===l||void 0===l||null===(t=l[r])||void 0===t?void 0:t[e])&&void 0!==n?n:e}))),o="boolean"===typeof o?k.Yi.t(o?"translations.base.on":"translations.base.off",{ns:"translations"}):(0,y.IZ)(o)?(0,T.k)(o):(0,y.Di)(o);var i=null===u||void 0===u?void 0:u[r];i&&c.push({value:o,label:i})};for(d.s();!(s=d.n()).done;)m()}catch(f){d.e(f)}finally{d.f()}return c}},{key:"gameFeatures",value:function(){var e;return(null===(e=this.data())||void 0===e?void 0:e.GameFeatures)||[]}},{key:"navLinks",value:function(){var e=this.slug(),n=new Map;return this.gameFeatures().forEach((function(e){return n.set(e.Feature,e.Active)})),{overviewHref:v.aW.href(e,s.IH.Routing.ArenaViewIds.GameIndex),tournamentsHref:n.get(s.Sf.Permission.Tournament_Feature)?v.aW.href(e,s.IH.Routing.ArenaViewIds.TournamentIndex):void 0,rankingHref:n.get(s.Sf.Permission.Challenge_ViewGlobalRankingLists_Feature)?v.aW.href(e,s.IH.Routing.ArenaViewIds.RankingIndex):void 0,matchmakingHref:n.get(s.Sf.Permission.Matchmaking_Feature)?v.aW.href(e,s.IH.Routing.ArenaViewIds.Matchmaking):void 0,leaguesHref:n.get(s.Sf.Permission.League_Feature)?v.aW.href(e,s.IH.Routing.ArenaViewIds.LeagueIndex):void 0,customGamesHref:n.get(s.Sf.Permission.Challenge_CustomGames_Feature)?v.aW.href(e,s.IH.Routing.ArenaViewIds.ChallengeCustomList):void 0,teamFinderHref:n.get(s.Sf.Permission.Social_TeamFinder_Feature)?v.aW.href(e,s.IH.Routing.ArenaViewIds.TeamFinder):void 0,laddersHref:n.get(s.Sf.Permission.Ladder_Feature)?v.aW.href(e,s.IH.Routing.ArenaViewIds.GameLadders):void 0}}},{key:"navLinkTabs",value:function(){var e=this.navLinks(),n=[];return e.overviewHref&&n.push({text:k.Yi.t("game.base.overview",{ns:"game"}),href:e.overviewHref,iconType:g.y.Home}),e.tournamentsHref&&n.push({text:k.Yi.t("tournament.base.tournament",{ns:"tournament",count:5}),href:e.tournamentsHref,iconType:g.y.Trophy}),e.laddersHref&&n.push({text:k.Yi.t("ladder.base.ladder",{ns:"ladder",count:5}),href:e.laddersHref,iconType:g.y.Ladder,new:!0}),e.rankingHref&&n.push({text:k.Yi.t("rank.base.ranking",{ns:"rank"}),href:e.rankingHref,iconType:g.y.Rise}),e.matchmakingHref&&n.push({text:k.Yi.t("matchmaking.base.matchmaking",{ns:"matchmaking"}),href:e.matchmakingHref,iconType:g.y.Crown}),e.teamFinderHref&&n.push({text:k.Yi.t("matchmaking.base.teamFinder",{ns:"matchmaking"}),href:e.teamFinderHref,iconType:g.y.Team}),e.customGamesHref&&n.push({text:k.Yi.t("game.base.customGame",{ns:"game",count:5}),href:e.customGamesHref,iconType:g.y.Crown}),e.leaguesHref&&n.push({text:k.Yi.t("league.base.league",{ns:"league",count:5}),href:e.leaguesHref,iconType:g.y.OrderedList}),n}}]),t}(b.g),R="gameInfoDynamic";function B(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,p.wL)(e?"".concat(R,":").concat(e):R,(function(){var n=new C;return"string"===typeof e?d.i.isGuid(e)?n.initById(e):n.initBySlug(e):e&&n.initByGameBrand(e),n}),n,t)}},3557:function(e,n,t){var r;t.d(n,{O:function(){return r}}),function(e){e.Banner="game_banner",e.SecondaryBanner="game_secondary_banner",e.Cover="game_cover",e.Logo="game_logo",e.Background="game_background",e.MobileBackground="game_mobile_background",e.Icon="game_icon"}(r||(r={}))},2016:function(e,n,t){t.d(n,{j:function(){return g},I:function(){return y}});var r=t(92137),a=t(6610),o=t(5991),i=t(87757),u=t.n(i),s=(t(91038),t(78783),t(92222),t(54747),t(41539),t(88674),t(71578)),l=t(27612),c=t(20555),d=t(20865),m=t(21910),f=t(25497),h=t(79075),v=t(95136),g=function(){function e(){var n=this;(0,a.Z)(this,e),this._cache=new l.LRUMap(100),this._persistDebounced=(0,s.Ti)((function(){return n._persist()}),100,{leading:!1,trailing:!0}),this._restore()}return(0,o.Z)(e,[{key:"getCacheItem",value:function(e){return this._cache.get(e)}},{key:"saveCacheItem",value:function(e,n){this._cache.set(e,n),this._persistDebounced()}},{key:"_persist",value:function(){var e=Array.from(this._cache);d.V.set(this._storageKey(),e),f.T.log("Auto-search persisted ".concat(this._cache.size," cache items for ").concat(this.url()))}},{key:"_restore",value:function(){var e=d.V.get(this._storageKey());(0,s.IZ)(e)&&(this._cache.assign(e),this._cache.forEach((function(e){(0,s.Km)(e.time)&&(e.time=new Date(e.time))})),f.T.log("Auto-search loaded ".concat(this._cache.size," cache items for ").concat(this.url())))}},{key:"_storageKey",value:function(){return"AutoSearchControllerMetaclass_".concat(this.url())}}]),e}(),y=function(){function e(n){var t=this;(0,a.Z)(this,e),this._scope=n,this._noCache=!1,this._queue=[],this._loads=[],this._initCalled=!1,this._flushed=!1,this._searchOnModelSet=!0,this._searched=!1,this._fetchIdsDebounced=(0,s.Ti)((function(e){return t._fetchIds(e)}),200,{leading:!0,trailing:!0}),this._loadScope=new m.X,this._ids=[],this._count=0,this._searching=!1,this.set=this._set,this._loadScope.onApply((0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._flush();case 2:if(!e.sent){e.next=4;break}t._loadScope.onApply(void 0);case 4:case"end":return e.stop()}}),e)})))),this._load(this._scope,(function(){return t._initCalled})),this._refreshIntervalHandle=window.setInterval((function(){t._flushed&&t._fetchIdsDebounced()}),6e5),this._scope.onDestroy((function(){t.dispose()}))}return(0,o.Z)(e,[{key:"dispose",value:function(){this._fetchIdsDebounced.cancel(),this._refreshIntervalHandle&&window.clearInterval(this._refreshIntervalHandle),this._loadScope.destroy()}},{key:"_ensureModel",value:function(){(0,s.tQ)(this._model)&&(this._model=this._metaclass().defaultBindingModel())}},{key:"_loaded",value:function(){return this._loads.every((function(e){return e()}))}},{key:"init",value:function(){return this._initCalled=!0,this._flush(),this}},{key:"initAsync",value:function(){return this._initCalled=!0,this._flushed=!1,this._flush()}},{key:"_flush",value:function(){var e=(0,r.Z)(u().mark((function e(){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._flushed&&this._initCalled&&this._loaded()){e.next=2;break}return e.abrupt("return",null);case 2:return(0,s.IZ)(this._queue)&&(this._ensureModel(),this._queue.forEach((function(e){return e(n._model)})),this._queue=null),this._flushed=!0,e.abrupt("return",this._search());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"noRefresh",value:function(){window.clearInterval(this._refreshIntervalHandle)}},{key:"take",value:function(e){return this._set((function(n){return n.Take=+e}))}},{key:"skip",value:function(e){return this._set((function(n){return n.Skip=+e}))}},{key:"count",value:function(e){return void 0===e?this._count:this._set((function(n){return n.Count=Boolean(e)}))}},{key:"noCache",value:function(){return this._noCache=!0,this}},{key:"noSearchOnModelSet",value:function(){return this._searchOnModelSet=!1,this}},{key:"_set",value:function(e){return this._flushed?(this._ensureModel(),e(this._model),this._searchOnModelSet&&this._search()):this._queue.push(e),this}},{key:"_load",value:function(e,n){if(this._flushed)throw"Can't search that now";this._loads.push(n),this._loadScope.subscribeVoid(e)}},{key:"ids",value:function(){return this._ids}},{key:"searching",value:function(){return this._searching}},{key:"searched",value:function(){return this._searched}},{key:"_search",value:function(){var n=(0,r.Z)(u().mark((function n(){var t,r,a,o=this;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._ensureModel(),this._metaclass().prepareModel(this._model),t=(0,v.Z)(this._model),r=this._metaclass().getCacheItem(t),!(a=(0,s.Of)(r))||(0,s.i1)(this._model,r.model)&&(0,s.IZ)(r.data.Ids)||(r=null,a=!1),this._ids=a?r.data.Ids:[],this._count=a?r.data.Count:0,f.T.log("Auto-search ".concat(t,", hasCached=").concat(a,"[").concat(this._ids.length,"]")),!(a&&(0,h.rz)(r.time,new Date)>-1*e._cacheSeconds*1e3)){n.next=14;break}if(this._searched=!0,this._scope.applyAsync(),this._noCache){n.next=14;break}return n.abrupt("return",{Ids:r.data.Ids,Count:r.data.Count});case 14:return n.abrupt("return",new Promise((function(e){return o._fetchIdsDebounced(e)})));case 15:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"_fetchIds",value:function(){var e=(0,r.Z)(u().mark((function e(n){var t,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,s.A6)(this._model),r=(0,v.Z)(t),f.T.log("Auto-search fetch ".concat(r)),this._lastFetchModelHash=r,this._searching=!0,this._scope.applyAsync(),e.next=8,c.Z.to(this._metaclass().url()).body(t).deferToDataStore().call({useGlobalErrorHandling:!1});case 8:if(a=e.sent,r===this._lastFetchModelHash){e.next=11;break}return e.abrupt("return",null);case 11:if((0,s.IZ)(a.Ids)){e.next=13;break}return e.abrupt("return",null);case 13:this._searching=!1,this._searched=!0,this._ids=a.Ids,this._count=a.Count||0,this._scope.applyAsync(),this._metaclass().saveCacheItem(r,{model:t,data:a,time:new Date}),null===n||void 0===n||n({Ids:a.Ids,Count:a.Count});case 20:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}]),e}();y._cacheSeconds=90},5336:function(e,n,t){t.d(n,{sU:function(){return k},D$:function(){return _},Kz:function(){return S}});t(12419);var r=t(92137),a=t(6610),o=t(5991),i=t(10379),u=t(46070),s=t(77608),l=t(87757),c=t.n(l),d=(t(41539),t(88674),t(92222),t(9653),t(21249),t(57327),t(26699),t(32023),t(39714),t(66992),t(78783),t(33948),t(65069),t(71578)),m=t(91264),f=t(39743),h=t(4510),v=t(60185),g=t(10898),y=t(8441),p=t(9123),b=t(56367);function T(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,s.Z)(e);if(n){var a=(0,s.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,u.Z)(this,t)}}var k=new(function(e){(0,i.Z)(u,e);var n=T(u);function u(){var e;return(0,a.Z)(this,u),(e=n.call(this))._tournamentStart=new y.v(e._scope).initOwn(),e._driveModes=[{num:m.rP.Core.TournamentDriveMode.Automatic,name:"Automatic",description:"The tournament will be seeded automatically at the beginning of the tournament. \n                All rounds and matches will be started automatically at the scheduled start time or as soon as possible."},{num:m.rP.Core.TournamentDriveMode.Manual,name:"Manual",description:"The tournament organizer has to start all rounds and matches within the rounds manually. \n                This can be especially useful when planning to cast some of the games."}],e._scope.subscribeVoid(b.Yi),e}return(0,o.Z)(u,[{key:"loaded",value:function(){return this._tournamentStart.loaded()}},{key:"adapter",value:function(){return this._tournamentStart.adapter()}},{key:"browseTo",value:function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return console.error("Tried to browse to null ID"),e.abrupt("return");case 3:return v.$.browseTo("/Tournaments/Show/".concat(n)),e.abrupt("return",new Promise((function(e,n){return setTimeout(e,100)})));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"isOwnTeamSeeded",value:function(e,n){return e&&n&&e.TeamIds.some((function(e){return e===n.OwnTeamId}))}},{key:"mayCreateTournament",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(g.cmOwnUser.may(m.Sf.Permission.Tournament_Create))return!0;var t=g.cmOwnUser.hasFeature(m.Sf.Permission.Tournament_CreateUserTournament_Feature);return e?t&&n:t}},{key:"ownAttendance",value:function(e){return this._tournamentStart.attendanceByTournament(e)}},{key:"ownChildTournamentAttendance",value:function(e){return this._tournamentStart.attendanceByAncestor(e)}},{key:"isOwnTeamId",value:function(e){return!!this._tournamentStart.attendanceByTeam(e)}},{key:"defaultTournamentLogoUrl",value:function(){return t(53634)}},{key:"logoUploadTokenUrl",value:function(e){return"/api/Tournament/Image/RequestUploadToken?imageType=tournament_logo&ExternalId=".concat(e)}},{key:"bannerUploadTokenUrl",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tournament_banner";return"/api/Tournament/Image/RequestUploadToken?imageType=".concat(n,"&ExternalId=").concat(e)}},{key:"thumbnailUploadTokenUrl",value:function(e){return"/api/Tournament/Image/RequestUploadToken?imageType=tournament_thumbnail&ExternalId=".concat(e)}},{key:"driveModes",value:function(){return this._driveModes}},{key:"bracketTypeTitle",value:function(e){switch(Number(e)){case m.rP.Brackets.BracketType.SingleElimination:return b.Yi.t("tournament.format.singleElimination",{ns:"tournament"});case m.rP.Brackets.BracketType.DoubleEliminationUpper:return b.Yi.t("tournament.format.doubleElimination",{ns:"tournament"});case m.rP.Brackets.BracketType.DoubleEliminationLower:return b.Yi.t("tournament.format.doubleEliminationLowerBracket",{ns:"tournament"});case m.rP.Brackets.BracketType.DoubleEliminationFinal:return b.Yi.t("tournament.format.doubleEliminationGrandFinals",{ns:"tournament"});case m.rP.Brackets.BracketType.Swiss:return b.Yi.t("tournament.format.swiss",{ns:"tournament"});case m.rP.Brackets.BracketType.RoundRobin:return b.Yi.t("tournament.format.groups",{ns:"tournament"});case m.rP.Brackets.BracketType.DhPubgShowdown:return b.Yi.t("tournament.format.dreamhackShowdown",{ns:"tournament"});default:return null}}},{key:"formats",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[m.oy.Tournament.TournamentFormat.JustSingleElimination,m.oy.Tournament.TournamentFormat.RoundRobinSingleElimination,m.oy.Tournament.TournamentFormat.RoundRobinX2SingleElimination,m.oy.Tournament.TournamentFormat.JustDoubleElimination,m.oy.Tournament.TournamentFormat.RoundRobinDoubleElimination,m.oy.Tournament.TournamentFormat.RoundRobinX2DoubleElimination,m.oy.Tournament.TournamentFormat.JustSwiss,m.oy.Tournament.TournamentFormat.Dreamhack2018PubgShowdown,m.oy.Tournament.TournamentFormat.JustRoundRobin].map((function(n){return{num:n,name:e.formatTitle(n)}}));if(g.cmOwnUser.may(m.Sf.Permission.Tournament_EditAnyTournament))return t;if(n){var r=[m.oy.Tournament.TournamentFormat.JustSingleElimination];return t.filter((function(e){return r.includes(e.num)}))}var a=[m.oy.Tournament.TournamentFormat.Dreamhack2018PubgShowdown,m.oy.Tournament.TournamentFormat.JustSwiss];return t.filter((function(e){return!a.includes(e.num)}))}},{key:"formatTitle",value:function(e){switch(Number(e)){case m.oy.Tournament.TournamentFormat.JustSingleElimination:return b.Yi.t("tournament.format.singleElimination",{ns:"tournament"});case m.oy.Tournament.TournamentFormat.RoundRobinSingleElimination:return b.Yi.t("tournament.format.groupsSingleElimination",{ns:"tournament"});case m.oy.Tournament.TournamentFormat.RoundRobinX2SingleElimination:return b.Yi.t("tournament.format.groupsGroupsSingleElimination",{ns:"tournament"});case m.oy.Tournament.TournamentFormat.JustDoubleElimination:return b.Yi.t("tournament.format.doubleElimination",{ns:"tournament"});case m.oy.Tournament.TournamentFormat.RoundRobinDoubleElimination:return b.Yi.t("tournament.format.groupsDoubleElimination",{ns:"tournament"});case m.oy.Tournament.TournamentFormat.RoundRobinX2DoubleElimination:return b.Yi.t("tournament.format.groupsGroupsDoubleElimination",{ns:"tournament"});case m.oy.Tournament.TournamentFormat.JustSwiss:return b.Yi.t("tournament.format.swiss",{ns:"tournament"});case m.oy.Tournament.TournamentFormat.Dreamhack2018PubgShowdown:return b.Yi.t("tournament.format.singleEliminationNoFinal",{ns:"tournament"});case m.oy.Tournament.TournamentFormat.JustRoundRobin:return b.Yi.t("tournament.format.groupsOnly",{ns:"tournament"});default:return b.Yi.t("tournament.format.unknown",{ns:"tournament"})}}},{key:"isClosed",value:function(e){return e===m.oy.Tournament.TournamentState.ClosingNew||e===m.oy.Tournament.TournamentState.ClosedNew||e===m.oy.Tournament.TournamentState.Closing||e===m.oy.Tournament.TournamentState.Closed||e===m.oy.Tournament.TournamentState.Cancelling||e===m.oy.Tournament.TournamentState.Cancelled}},{key:"isCompleted",value:function(e){return e===m.oy.Tournament.TournamentState.Resolved||e===m.oy.Tournament.TournamentState.Redeemed}},{key:"isTerminal",value:function(e){return this.isCompleted(e)||this.isClosed(e)}},{key:"isOpen",value:function(e){return this.isPreRunning(e)||this.isRunning(e)}},{key:"isNew",value:function(e){return e===m.oy.Tournament.TournamentState.New}},{key:"isLobby",value:function(e){return e===m.oy.Tournament.TournamentState.Lobby}},{key:"isCheckIn",value:function(e){return e===m.oy.Tournament.TournamentState.CheckIn}},{key:"isRegistration",value:function(e){return this.isLobby(e)||this.isCheckIn(e)}},{key:"isSeeding",value:function(e){return e===m.oy.Tournament.TournamentState.Seeding}},{key:"isRunning",value:function(e){return e===m.oy.Tournament.TournamentState.Running}},{key:"isPreSeeding",value:function(e){return this.isNew(e)||this.isRegistration(e)}},{key:"isPreRunning",value:function(e){return this.isPreSeeding(e)||this.isSeeding(e)}},{key:"groupCount",value:function(e){switch(e){case m.oy.Tournament.TournamentFormat.JustRoundRobin:case m.oy.Tournament.TournamentFormat.RoundRobinSingleElimination:case m.oy.Tournament.TournamentFormat.RoundRobinDoubleElimination:case m.oy.Tournament.TournamentFormat.RoundRobinSwiss:return 1;case m.oy.Tournament.TournamentFormat.RoundRobinX2SingleElimination:case m.oy.Tournament.TournamentFormat.RoundRobinX2DoubleElimination:case m.oy.Tournament.TournamentFormat.RoundRobinX2Swiss:return 2;default:return 0}}},{key:"isRr",value:function(e){return this.groupCount(e)>0}},{key:"isSe",value:function(e){return e===m.oy.Tournament.TournamentFormat.JustSingleElimination||e===m.oy.Tournament.TournamentFormat.Dreamhack2018PubgShowdown}},{key:"isDe",value:function(e){return e===m.oy.Tournament.TournamentFormat.JustDoubleElimination||e===m.oy.Tournament.TournamentFormat.RoundRobinDoubleElimination||e===m.oy.Tournament.TournamentFormat.RoundRobinX2DoubleElimination}},{key:"groupName",value:function(e){for(var n=(+e).toString(26),t="",r=0;r<n.length;++r){var a=parseInt(n.charAt(r)+"",26)+65-+(r<n.length-1);t+=String.fromCharCode(a)}return t}},{key:"parseGroupName",value:function(e){if(!(0,d.Km)(e))return null;for(var n="",t=0;t<e.length;++t){n+=(e.charCodeAt(t)-65+ +(t<e.length-1)).toString(26)}return parseInt(n,26)}},{key:"spawnMatchTieBreakerModal",value:function(e,n,r){f.tE.open({id:f.qq.Tournament_MatchTieBreaker,component:Promise.all([t.e(57840),t.e(98600),t.e(15725),t.e(57533),t.e(4369),t.e(93324),t.e(89915)]).then(t.bind(t,38678)),params:{tournamentId:e,matchId:n,teamIds:r},ignoreBackdrop:!0})}},{key:"spawnMatchModal",value:function(e,n,r){f.tE.open({id:f.qq.Tournament_Match,component:Promise.all([t.e(58786),t.e(24736),t.e(96837),t.e(84992),t.e(7237),t.e(98600),t.e(15725),t.e(85005),t.e(52932),t.e(57533),t.e(4369),t.e(64117),t.e(51483),t.e(93324),t.e(89623),t.e(4927),t.e(4451)]).then(t.bind(t,28352)),params:{matchId:e,tournamentId:n,roundIndex:r}})}},{key:"spawnTournamentConfirmedRegistrationModal",value:function(e){f.tE.open({id:f.qq.Tournament_ConfirmedRegistration,component:Promise.all([t.e(58786),t.e(9485),t.e(98600),t.e(15725),t.e(15),t.e(47950),t.e(57533),t.e(4369),t.e(36735)]).then(t.bind(t,49691)),params:{tournamentId:e}})}},{key:"href",value:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.IH.Routing.ArenaViewIds.TournamentOverview,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?(r&&(n={join:""}),v.$.reverse(t,{tournamentId:e},n)):null}},{key:"manageHref",value:function(e){return h.D.isTablet()?this.href(e,m.IH.Routing.ArenaViewIds.TournamentManageIndex):this.href(e,m.IH.Routing.ArenaViewIds.TournamentManageControlPanel)}},{key:"manageToView",value:function(e){return h.D.isTablet()?this.toView(e,m.IH.Routing.ArenaViewIds.TournamentManageIndex):this.toView(e,m.IH.Routing.ArenaViewIds.TournamentManageControlPanel)}},{key:"toView",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.IH.Routing.ArenaViewIds.TournamentOverview;return e?{id:n,params:{tournamentId:e}}:null}},{key:"exportPlacementsUrl",value:function(e){return"/api/tournament/export/placement_excel/".concat(e)}},{key:"exportTeamsUrl",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"/api/tournament/export/teams/".concat(e)+"?includeMembers=".concat(n,"&onlyConfirmed=").concat(t,"&includeEmails=").concat(r)}},{key:"developmentHref",value:function(e){return"/tournaments/development/".concat(e)}}]),u}(p.b));function _(e){f.tE.open({id:f.qq.Tournament_WizardCreate,component:Promise.all([t.e(64749),t.e(3347),t.e(84992),t.e(71752),t.e(98600),t.e(15725),t.e(91290),t.e(15),t.e(47950),t.e(57533),t.e(50551),t.e(9359),t.e(38431),t.e(5644)]).then(t.bind(t,40779)),params:e})}function S(e){f.tE.open({id:f.qq.Tournament_Onboarding,component:Promise.all([t.e(64749),t.e(58786),t.e(84992),t.e(71752),t.e(7237),t.e(15725),t.e(72221),t.e(57533),t.e(4369),t.e(36698),t.e(60767)]).then(t.bind(t,6204)),params:e})}},8441:function(e,n,t){t.d(n,{v:function(){return l}});t(12419);var r=t(6610),a=t(5991),o=t(10379),i=t(46070),u=t(77608);t(66992),t(51532),t(41539),t(78783),t(33948),t(54747);function s(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,u.Z)(e);if(n){var a=(0,u.Z)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,i.Z)(this,t)}}var l=function(e){(0,o.Z)(t,e);var n=s(t);function t(e){var a;return(0,r.Z)(this,t),(a=n.call(this,e,"tournament_start"))._attendancesByTournament=new Map,a._attendancesByTeam=new Map,a._attendancesByAncestor=new Map,a._adapter.addDataCallback((function(e){a._rebuildAttendanceIndex(e)})),a}return(0,a.Z)(t,[{key:"_rebuildAttendanceIndex",value:function(e){var n=this;this._attendancesByTournament.clear(),this._attendancesByTeam.clear(),this._attendancesByAncestor.clear(),e&&e.Attendances&&e.Attendances.forEach((function(e){n._attendancesByTournament.set(e.TournamentId,e),n._attendancesByTeam.set(e.OwnTeamId,e),n._attendancesByAncestor.set(e.AncestorTournamentId,e)}))}},{key:"attendanceByTournament",value:function(e){var n=this._attendancesByTournament.get(e);return n||null}},{key:"attendanceByTeam",value:function(e){var n=this._attendancesByTeam.get(e);return n||null}},{key:"attendanceByAncestor",value:function(e){var n=this._attendancesByAncestor.get(e);return n||null}}]),t}(t(5535).g)},70592:function(e,n,t){t.d(n,{k:function(){return r}});t(92222);function r(e){if(!e)return"";for(var n="",t=0;t<e.length;t++){for(var r=e[t],a=t;r===e[t+1];)t++;n+="".concat(a===t?a+1:"".concat(a+1,"-").concat(t+1),": ").concat(r,"\n")}return n}},95136:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(90484),a=(t(41539),t(39714),function(e){e=e.toString();for(var n=0,t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)&4294967295;return n}),o=function(e){var n=0;for(var t in e)e.hasOwnProperty(t)&&(n+=a(t+i(e[t])));return n},i=function(e){var n={string:a,number:a,boolean:a,object:o},t=(0,r.Z)(e);return null!==e&&n[t]?n[t](e)+a(t):0}}}]);